!function(d,w,c){"use strict";!function(reg,u,n,f,t){reg=void 0===w.R?{ns:!1,name:"R"}:void 0===w.R.Component?void 0===w.Rocfor?{ns:!1,name:"Rocfor"}:void 0===w.Rocfor.Component&&void 0===w.Rocforjs?{ns:!1,name:"Rocforjs"}:{ns:!0}:{ns:!0},reg.ns||function(version,_Rocforjsreg,_Error,r,_MDwn,_Asset,_Vars,_Ajax,_Tag,_Block,_Comp,_Spa,_Rocjs,_Compjs){var mc,gc,ct,dt;_Error={e:function(e,t,n){this.type=n||"error",this.message=t,this.name=e||"Rocjs Error"},eD:function(e){console[e.type||"error"]((e.name||"System Error")+": "+e.message)},api:function(t){try{throw new this.e(t[0],t[1],t[2])}catch(e){return this.eD(e),t[3]}}},r={e:Object.create(_Error),$:function(e){return(t="string"==typeof e?e:"").length&&r.elementByIdExists(t)?d.getElementById(t):u;var t},searchElement:function(e){return r.isString(e)?r.$(e):r.isElement(e)?e:f},queryCreator:function(e){var t=r.cleanArray(r.map(e.target.elements,function(e){if(e.name&&e.value)return"checkbox"===e.type||"radio"===e.type?e.checked?e.name+"="+e.value:"":e.name+"="+e.value}));return t.length?t.join("&"):""},changeClasses:function(e,t,n){return i=/[\s\,\.]+/,a=/\W+/g,l=r.searchElement(e),s=[],o="",c=null,t=(c=function(e){return r.unique(r.filter(e,function(e){return e=String(e.replace(/\-/g,"__dash__")),a&&!a.test(e)}))})(r.isArray(t)?t:r.isString(t)?t.split(i):[]),n=c(r.isArray(n)?n:r.isString(n)?n.split(i):[]),o=(s=l?l.className?r.difArrays(t,l.className.split(i)):[]:null)?s.length?s.concat(n).join("  ").trim():n.join("  ").trim():"",void(l&&(l.className=o.length?o:l.className));var i,a,l,s,o,c},changeClass:function(e,t,n){return i=r.searchElement(e),a=r.isString(t)?t:"",l=r.isString(n)?n:"",s=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],o=[],a=/\W+/g.test(a.replace(/\-/g,"__dash__"))?"":a,l=/\W+/g.test(l.replace(/\-/g,"__dash__"))?"":l,o=i?r.map(s,function(e){return e.toLowerCase()===a.toLowerCase()?l:e}):[],void(i&&(i.className=o.length?o.join("  ").trim():i.className));var i,a,l,s,o},toggleClass:function(e,t){return n=r.searchElement(e),i=r.isString(t)?t:"",a=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],l=[],i=/\W+/g.test(i.replace(/\-/g,"__dash__"))?"":i,l=n?r.filter(a,function(e){return e.toLowerCase()===i.toLowerCase()}):[],void(n&&(n.className=l.length?r.difArrays(l,a).join("  ").trim():a.concat(i).join("  ").trim()));var n,i,a,l},deleteClass:function(e,t){return n=r.searchElement(e),i=r.isString(t)?t:"",a=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],l=[],i=/\W+/g.test(i.replace(/\-/g,"__dash__"))?"":i,l=n?r.filter(a,function(e){return e.toLowerCase()!==i.toLowerCase()}):[],void(n&&(n.className=l.length?l.join("  ").trim():n.className));var n,i,a,l},deleteClasses:function(e,t){return n=r.searchElement(e),(i=r.searchElement(e)?r.searchElement(e).className:"").length?(a=i.split(/\s+/g),l={},s=[],s=r.isArray(t)?t:r.isString(t)?t.split(/[\.\,\s]+/):[],s=(s=r.filter(s,function(e){return!/\W+/g.test(e.replace(/\-/g,"__dash__"))})).length?r.unique(s):[],l=s.length?r.arrayToEmptyObject(s):{},s=(s=r.isEmptyObject(l)?[]:a.length?r.filter(a,function(e){return!l.hasOwnProperty(e)}):[]).length?s.join("  ").trim():"",void(n&&(e.className=s))):null;var n,i,a,l,s},insertClass:function(e,t){return n=r.searchElement(e),i=r.isString(t)?t:"",a=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],l=[],i=/\W+/g.test(i.replace(/\-/g,"__dash__"))?"":i,l=n?r.filter(a,function(e){return e.toLowerCase()===i.toLowerCase()}):[],void(n&&(n.className=l.length?n.className:a.concat(i).join("  ").trim()));var n,i,a,l},insertClasses:function(e,t){return n=r.searchElement(e),i=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],a=r.isArray(t)?t:r.isString(t)?t.split(/[\.\,\s]+/):[],i=(i=(a=r.filter(a,function(e){return!/\W+/g.test(e.replace(/\-/g,"__dash__"))})).length?i.concat(a):[]).length?r.unique(i).join("  "):"",void(n&&(e.className=i.length?i.trim():e.className));var n,i,a},hasClass:function(e,n){return i=r.searchElement(e),a=r.isString(n)?n:"",l=r.searchElement(e)?r.searchElement(e).className.split(/\s+/g):[],a=/\W+/g.test(a.replace(/\-/g,"__dash__"))?"":a,i&&a.length?r.filter(l,function(e){return e.toLowerCase()===a.toLowerCase()}).length?t:f:u;var i,a,l},isElement:function(e){return e&&"object"==typeof e&&"nodeType"in e?e.nodeType===w.Element.ELEMENT_NODE||e.nodeType===w.Element.DOCUMENT_FRAGMENT_NODE:f},isTextNode:function(e){return"object"==typeof e&&"nodeType"in e?e.nodeType===w.Element.TEXT_NODE:f},elementByIdExists:function(e){return"string"==typeof e?r.isElement(d.getElementById(e)):u},elementIndex:function(n){return(n=r.searchElement(n))?function(){for(var e=0,t=0;t<n.parentElement.children.length&&(e=n===n.parentElement.children[t]?e:e+1,n!==n.parentElement.children[t]);t++);return e}():-1},insertAfter:function(e,t){t=r.searchElement(t),r.isElement(e)&&t?t.parentElement.lastElementChild===t||1===t.parentElement.children.length?t.parentElement.appendChild(e):t.parentElement.insertBefore(e,t.nextElementSibling):r.e.api(["Programmer Error","Res:insertAfter: A valid HTMLElement spected."])},elementEval:function(e){return r.$(e)||(r.isElement(e)?e:f)},elementInsertChild:function(o,e){return function(e,n,i,a,l,s){if(e){if(i=function(e,t,n){return(e.children.length?r.filter(e.children,function(e){return e===t}):[]).length?f:e},e===(a=function(e){return r.isString(e)?r.elementEval(e)||d.body:r.isObject(e)?e.hasOwnProperty("before")?(i=r.elementEval(e.before),l=i?t:f,i||d.body):e.hasOwnProperty("container")?r.elementEval(e.container)||d.body:e.hasOwnProperty("after")?(n=r.elementEval(e.after),s=n?t:f,n||d.body):d.body:r.isElement(e)?e:d.body;var n,i}(o))||e===d.body||e===d.doctype||e===d.documentElement||e===d.head)return f;l?i(a===d.body?a:a.parentElement,e,f)?a===d.body?a.appendChild(e):a.parentElement.insertBefore(e,a):r.e.api(["Error","Element already exists in DOM","warn"]):s?i(a===d.body?a:a.parentElement,e,f)?a===d.body?a.appendChild(e):r.insertAfter(e,a):r.e.api(["Error","Element already exists in DOM","warn"]):i(a,e,f)?a.appendChild(e):r.e.api(["Error","Element already exists in DOM","warn"])}}(r.elementEval(e))},elementHasChildById:function(e,n){return(e=r.searchElement(e))?"string"!=typeof n?u:-1===e.innerHTML.search('idname="'+n+'"')?f:t:u},sanitizeInput:function(e){if(r.searchElement(e))return r.sanitizeString(r.searchElement(e).value)?t:f},focusAndClean:function(e){return r.isElement(e)&&"focus"in e?(r.isString(e.value)&&(e.value=n),e.focus(),r):u},isString:function(e){return"string"==typeof e},escapeString:function(query,aVal){return r.isArray(aVal)&&aVal.length&&!r.emptyString(query)?function(auxMid,aux){return r.map(aVal,function(x){aux=eval("/\\"+x+"/g"),auxMid=auxMid.replace(aux,"\\"+x)}),auxMid}(query,n):u},stripTags:function(e){return r.isString(e)?-1<e.search(/(?:\<.*?\>)/gim)?e.replace(/(?:\<.*?\>)/gim,"").trim():e:u},deleteString:function(q,v,g){return r.emptyString(q)||r.emptyString(v)?"":q.replace(eval("/"+v+"/"+(g?"g":"")),"")},reverseString:function(e){return r.emptyString(e)?"":e.split("").reverse().join("")},emptyString:function(e){return r.isString(e)?-1===e.search(/\S/)?t:f:u},lTrim:function(e,t){return r.emptyString(e)?"":(n=isNaN(t)?0:Math.abs(Math.floor(t)),i=/^\s+/.test(e),n?(a=e.length>n&&e.search(/\S/)>=n?n:0,i&&a?e.slice(a,e.length):e):i?e.replace(/^\s+/,"+"):e);var n,i,a},rTrim:function(e,t){return r.reverseString(r.lTrim(r.reverseString(e),t))},ucWordString:function(e){return r.emptyString(e)?"":e.split("")[0].toUpperCase().concat(e.substr(1))},countCharString:function(e,t){return r.isString(e)&&r.isString(t)?r.emptyString(t)?0:t.split(e).length-1:u},sanitizeString:function(e){return r.isString(e)?r.emptyString(e)?e:e.replace(/\</gm,"<").replace(/\>/gm,">").replace(/\</gm,'"'):u},repeatString:function(i,a){return r.isString(i)&&!isNaN(a)?function e(t,n){return a<=0||!i.length?u:a<t?n:e(t+1,n.concat(i))}(1,""):u},isArray:function(e){return e?e.constructor===HTMLCollection?t:e.constructor===Array?"object"==typeof e&&"number"==typeof e.length&&"function"==typeof e.splice&&!e.propertyIsEnumerable("length"):f:f},reduce:function(a,l,e,t,s){return"function"!=typeof l||!r.isArray(a)&&"string"!=typeof a?void 0:function e(t,n,r){return t>a.length-1?n:e(t+1,(i=isNaN(s)?a.length:s?s<=r||s>a.length?a.length:parseInt(s,10):r?a.length:0,r||i?r<=t&&t<=i?l(n,a[t],t):n:l(n,a[t],t)),r);var i}(0,e,isNaN(t)?0:t<0||t>a.length?0:parseInt(t,10))},map:function(a,l,e,s){return"function"!=typeof l||!r.isArray(a)&&"string"!=typeof a?void 0:function e(t,n,r){return t>a.length-1?n:e(t+1,(i=isNaN(s)?a.length:s?s<=r||s>a.length?a.length:parseInt(s,10):r?a.length:0,r||i?r<=t&&t<=i?n.concat(l(a[t],t)):n.concat(a[t]):n.concat(l(a[t],t))),r);var i}(0,"string"==typeof a?"":[],isNaN(e)?0:e<0||e>a.length?0:parseInt(e,10))},filter:function(a,l,e,s){return"function"!=typeof l||!r.isArray(a)&&"string"!=typeof a?void 0:function e(t,n,r){return t>a.length-1?n:e(t+1,(i=isNaN(s)?a.length:s?s<=r||s>a.length?a.length:parseInt(s,10):r?a.length:0,r||i?r<=t&&t<=i?l(a[t],t,a)?n.concat(a[t]):n:n.concat(a[t]):l(a[t],t,a)?n.concat(a[t]):n),r);var i}(0,"string"==typeof a?"":[],isNaN(e)?0:e<0||e>a.length?0:parseInt(e,10))},unique:(gc=function(e,t,n){return n.indexOf(e,t+1)<0},function(e){return r.filter(e,gc)}),repeated:(mc=function(e,t,n){return-1<n.indexOf(e,t+1)},function(e){return r.filter(e,mc)}),valueExists:function(n,e){return r.isArray(e)?r.filter(e,function(e){return e===n}).length?t:f:-1},valueExistsPos:function(n,i){return r.isArray(i)?function e(t){return t>i.length-1?-1:n===i[t]?t:e(t+1)}(0):-1},cleanArray:function(e){return r.isArray(e)?r.filter(e,function(e){return e!==u&&!r.emptyString(e)}):u},maxValueArray:function(e){return r.isArray(e)||e.length?(t=e[0],r.map(e,function(e){t=e<t?t:e}),t):u;var t},minValueArray:function(e){return r.isArray(e)||e.length?(t=e[0],r.map(e,function(e){t=t<e?t:e}),t):u;var t},difArrays:function(e,t){return(r.isArray(e)||r.isArray(t))&&r.isArray(e)&&r.isArray(t)?e.length&&t.length?function(e,t,n,i,a,l){for(i=e.length===t.length?(n=r.map(e,function(e){return e}),r.map(t,function(e){return e})):e.length>t.length?(n=r.map(e,function(e){return e}),r.map(t,function(e){return e})):(n=r.map(t,function(e){return e}),r.map(e,function(e){return e}));a<i.length;a++)l=n.length,(n=r.filter(n,function(e){return e!==i[a]})).length===l&&n.push(i[a]);return n}(r.unique(e),r.unique(t),[],[],0,0):e.length||t.length?r.unique(e.concat(t)):[]:u},arrayToEmptyObject:function(e){return r.isArray(e)?(t=e.length?r.unique(e):[],n={},t.length?(r.map(t,function(e){n[e]=u}),n):{}):u;var t,n},pushArrayInArray:function(e,t,n){return r.isArray(e)&&r.isArray(t)?(i="number"!=typeof n?0:n<0||n>e.length?0:parseInt(n,10),a=e.slice(0,i),l=e.slice(i,e.length),(a=a.concat(t)).concat(l)):u;var i,a,l},isObject:function(e){return r.isArray(e)?f:r.isElement(e)?f:"object"==typeof e},objectHasObjects:function(i){return r.isObject(i)?function(e,n){for(e in i)if(r.isObject(i[e])&&i.hasOwnProperty(e)){n++;break}return n?t:f}(0,0):u},objectLength:function(i){return r.isObject(i)?function(e,t){for(t in i)i.hasOwnProperty(t)&&e++;return e}(0,n):u},isEmptyObject:function(e){return r.isObject(e)?r.objectLength(e)?f:t:u},objectToArray:function(i){return r.isObject(i)?function(e,t){for(t in i)i.hasOwnProperty(t)&&e.push(String(t+"-"+i[t]));return e}([],n):u},objectHasValue:function(n,e){return r.isObject(e)&&!r.isEmptyObject(e)?(i=Object.values(e),r.filter(i,function(e){return r.isString(n)?e.toLowerCase()===n.trim().toLowerCase():e===n}).length?t:f):-1;var i},objectHasKey:function(e,t){return r.isObject(t)&&!r.isEmptyObject(t)?e in t&&t.hasOwnProperty(e):-1},objectValuesToKeys:function(e){return r.isObject(e)&&!r.isEmptyObject(e)?function(e,t,n,i){for(;i<t.length;i++)if((!r.isString(n[i])||r.emptyString(n[i]))&&"Number"!=typeof n[i])return u;for(i=0;i<t.length;i++)e[n[i]]=t[i];return e}({},Object.keys(e),Object.values(e),0):u},api:function(){return{test:"welcome to Rocforjs!",$:(ne=(e=this).$,function(e){return ne(e)}),searchElement:(te=e.searchElement,function(e){return te(e)}),queryCreator:(ee=e.queryCreator,function(e){return ee(e)}),changeClasses:(Q=e.changeClasses,function(e,t,n){return Q(e,t,n),r.api}),changeClass:(G=e.changeClass,function(e,t,n){return G(e,t,n),r.api}),toggleClass:(Z=e.toggleClass,function(e,t){return Z(e,t),r.api}),deleteClass:(X=e.deleteClass,function(e,t){return X(e,t),r.api}),deleteClasses:(J=e.deleteClasses,function(e,t){return J(e,t),r.api}),insertClass:(Y=e.insertClass,function(e,t){return Y(e,t),r.api}),insertClasses:(K=e.insertClasses,function(e,t){return K(e,t),r.api}),hasClass:(F=e.hasClass,function(e,t){return F(e,t)}),isElement:(z=e.isElement,function(e){return z(e)}),isTextNode:(V=e.isTextNode,function(e){return V(e)}),elementByIdExists:(W=e.elementByIdExists,function(e){return W(e)}),elementIndex:(U=e.elementIndex,function(e){return U(e)}),insertAfter:(H=e.insertAfter,function(e,t){return H(e,t),r.api}),elementEval:(B=e.elementEval,function(e){return B(e)}),elementInsertChild:(q=e.elementInsertChild,function(e,t){return q(e,t),r.api}),elementHasChildById:(N=e.elementHasChildById,function(e,t){return N(e,t)}),sanitizeInput:(L=e.sanitizeInput,function(e){return L(e),r.api}),focusAndClean:(I=e.focusAndClean,function(e){return I(e),r.api}),isString:(P=e.isString,function(e){return P(e)}),escapeString:(D=e.escapeString,function(e,t){return D(e,t)}),stripTags:(M=e.stripTags,function(e){return M(e)}),deleteString:(T=e.deleteString,function(e,t,n){return T(e,t,n)}),reverseString:(A=e.reverseString,function(e){return A(e)}),emptyString:(x=e.emptyString,function(e){return x(e)}),lTrim:(C=e.lTrim,function(e,t){return C(e,t)}),rTrim:(k=e.rTrim,function(e,t){return k(e,t)}),ucWordString:(R=e.ucWordString,function(e){return R(e)}),countCharString:(O=e.countCharString,function(e,t){return O(e,t)}),sanitizeString:(S=e.sanitizeString,function(e){return S(e)}),repeatString:(E=e.repeatString,function(e,t){return E(e,t)}),isArray:(w=e.isArray,function(e){return w(e)}),reduce:($=e.reduce,function(e,t,n,r,i){return $(e,t,n,r,i)}),map:(j=e.map,function(e,t,n,r){return j(e,t,n,r)}),filter:(v=e.filter,function(e,t,n,r){return v(e,t,n,r)}),unique:(y=e.unique,function(e){return y(e)}),repeated:(_=e.repeated,function(e){return _(e)}),valueExists:(b=e.valueExists,function(e,t){return b(e,t)}),valueExistsPos:(f=e.valueExistsPos,function(e,t){return f(e,t)}),cleanArray:(h=e.cleanArray,function(e){return h(e)}),maxValueArray:(d=e.maxValueArray,function(e){return d(e)}),minValueArray:(p=e.minValueArray,function(e){return p(e)}),difArrays:(m=e.difArrays,function(e,t){return m(e,t)}),arrayToEmptyObject:(g=e.arrayToEmptyObject,function(e){return g(e)}),pushArrayInArray:(u=e.pushArrayInArray,function(e,t,n){return u(e,t,n)}),isObject:(c=e.isObject,function(e){return c(e)}),objectHasObjects:(o=e.objectHasObjects,function(e){return o(e)}),objectLength:(s=e.objectLength,function(e){return s(e)}),isEmptyObject:(l=e.isEmptyObject,function(e){return l(e)}),objectToArray:(a=e.objectToArray,function(e){return a(e)}),objectHasValue:(i=e.objectHasValue,function(e,t){return i(e,t)}),objectHasKey:(n=e.objectHasKey,function(e,t){return n(e,t)}),objectValuesToKeys:(t=e.objectValuesToKeys,function(e){return t(e)})};var e,t,n,i,a,l,s,o,c,u,g,m,p,d,h,f,b,_,y,v,j,$,w,E,S,O,R,k,C,x,A,T,M,D,P,I,L,N,q,B,H,U,W,V,z,F,K,Y,J,X,Z,G,Q,ee,te,ne}},_Asset={$:Object.create(r.api()),e:Object.create(_Error),api:function(){return function(me){return{UERROR:"Programmer error",MERROR:"Something went wrong, please check Rocforjs.help for some guide.",SERROR:"Error! Object is required for state component, not ",NERROR:"Error! Wrong index, do not exixst any element child with index: ",EERROR:"Error! Do not exist any element child with id: ",TERROR:"Error! String id required for this method, not ",resAttributes:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","bgcolor","border","buffered","challenge","charset","checked","cite","class","code","codebasese","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","manifest","max","maxlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","seamless","selected","shape","size","sizes","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","type","usemap","value","width","wrap"],_cast:{str:{block:{default:"DIV"},inline:{default:"SPAN"}},taglist:[{name:"address",inline:0,mdable:0,alone:0,tagreg:/^\baddress\b/i},{name:"area",inline:0,mdable:0,alone:1,tagreg:/^\barea\b/i},{name:"article",inline:0,mdable:1,alone:0,tagreg:/^\barticle\b/i},{name:"aside",inline:0,mdable:1,alone:0,tagreg:/^\baside\b/i},{name:"audio",inline:0,mdable:0,alone:1,tagreg:/^\baudio\b/i},{name:"base",inline:0,mdable:0,alone:0,tagreg:/^\bbase\b/i},{name:"bdi",inline:0,mdable:0,alone:0,tagreg:/^\bbdi\b/i},{name:"blockquote",inline:0,mdable:1,alone:0,tagreg:/^\bblockquote\b/i},{name:"body",inline:0,mdable:1,alone:0,tagreg:/^\bbody\b/i},{name:"canvas",inline:0,mdable:0,alone:0,tagreg:/^\bcanvas\b/i},{name:"caption",inline:0,mdable:0,alone:0,tagreg:/^\bcaption\b/i},{name:"col",inline:0,mdable:0,alone:1,tagreg:/^\bcol\b/i},{name:"colgroup",inline:0,mdable:0,alone:0,tagreg:/^\bcolgroup\b/i},{name:"datalist",inline:0,mdable:0,alone:0,tagreg:/^\bdatalist\b/i},{name:"dd",inline:0,mdable:0,alone:0,tagreg:/^\bdd\b/i},{name:"del",inline:0,mdable:0,alone:0,tagreg:/^\bdel\b/i},{name:"details",inline:0,mdable:0,alone:0,tagreg:/^\bdetails\b/i},{name:"dfn",inline:0,mdable:0,alone:0,tagreg:/^\bdfn\b/i},{name:"dialog",inline:0,mdable:0,alone:0,tagreg:/^\bdialog\b/i},{name:"div",inline:0,mdable:1,alone:0,tagreg:/^\bdiv\b/i},{name:"dl",inline:0,mdable:0,alone:0,tagreg:/^\bdl\b/i},{name:"dt",inline:0,mdable:0,alone:0,tagreg:/^\bdt\b/i},{name:"embed",inline:0,mdable:0,alone:0,tagreg:/^\bembed\b/i},{name:"fieldset",inline:0,mdable:0,alone:0,tagreg:/^\bfieldset\b/i},{name:"figcaption",inline:0,mdable:0,alone:0,tagreg:/^\bfigcaption\b/i},{name:"figure",inline:0,mdable:0,alone:0,tagreg:/^\bfigure\b/i},{name:"footer",inline:0,mdable:1,alone:0,tagreg:/^\bfooter\b/i},{name:"form",inline:0,mdable:0,alone:0,tagreg:/^\bform\b/i},{name:"h1",inline:0,mdable:0,alone:0,tagreg:/^\bh1\b/i},{name:"h2",inline:0,mdable:0,alone:0,tagreg:/^\bh2\b/i},{name:"h3",inline:0,mdable:0,alone:0,tagreg:/^\bh3\b/i},{name:"h4",inline:0,mdable:0,alone:0,tagreg:/^\bh4\b/i},{name:"h5",inline:0,mdable:0,alone:0,tagreg:/^\bh5\b/i},{name:"h6",inline:0,mdable:0,alone:0,tagreg:/^\bh6\b/i},{name:"header",inline:0,mdable:1,alone:0,tagreg:/^\bheader\b/i},{name:"head",inline:0,mdable:0,alone:0,tagreg:/^\bhead\b/i},{name:"hr",inline:0,mdable:0,alone:1,tagreg:/^\bhr\b/i},{name:"html",inline:0,mdable:0,alone:0,tagreg:/^\bhtml\b/i},{name:"iframe",inline:0,mdable:1,alone:0,tagreg:/^\biframe\b/i},{name:"ins",inline:0,mdable:0,alone:0,tagreg:/^\bins\b/i},{name:"legend",inline:0,mdable:0,alone:0,tagreg:/^\blegend\b/i},{name:"li",inline:0,mdable:1,alone:0,tagreg:/^\bli\b/i},{name:"link",inline:0,mdable:0,alone:1,tagreg:/^\blink\b/i},{name:"main",inline:0,mdable:1,alone:0,tagreg:/^\bmain\b/i},{name:"mark",inline:0,mdable:0,alone:0,tagreg:/^\bmark\b/i},{name:"menu",inline:0,mdable:0,alone:0,tagreg:/^\bmenu\b/i},{name:"menuitem",inline:0,mdable:0,alone:0,tagreg:/^\bmenuitem\b/i},{name:"meta",inline:0,mdable:0,alone:1,tagreg:/^\bmeta\b/i},{name:"meter",inline:0,mdable:0,alone:0,tagreg:/^\bmeter\b/i},{name:"nav",inline:0,mdable:0,alone:0,tagreg:/^\bnav\b/i},{name:"noscript",inline:0,mdable:1,alone:0,tagreg:/^\bnoscript\b/i},{name:"ol",inline:0,mdable:0,alone:0,tagreg:/^\bol\b/i},{name:"optgroup",inline:0,mdable:0,alone:0,tagreg:/^\boptgroup\b/i},{name:"option",inline:0,mdable:0,alone:0,tagreg:/^\boption\b/i},{name:"output",inline:0,mdable:0,alone:0,tagreg:/^\boutput\b/i},{name:"p",inline:0,mdable:1,alone:0,tagreg:/^\bp\b/i},{name:"param",inline:0,mdable:0,alone:0,tagreg:/^\bparam\b/i},{name:"picture",inline:0,mdable:0,alone:0,tagreg:/^\bpicture\b/i},{name:"pre",inline:0,mdable:0,alone:0,tagreg:/^\bpre\b/i},{name:"progress",inline:0,mdable:0,alone:1,tagreg:/^\bprogress\b/i},{name:"rp",inline:0,mdable:0,alone:0,tagreg:/^\brp\b/i},{name:"rt",inline:0,mdable:0,alone:0,tagreg:/^\brt\b/i},{name:"ruby",inline:0,mdable:0,alone:0,tagreg:/^\bruby\b/i},{name:"s",inline:0,mdable:0,alone:0,tagreg:/^\bs\b/i},{name:"section",inline:0,mdable:1,alone:0,tagreg:/^\bsection\b/i},{name:"source",inline:0,mdable:0,alone:1,tagreg:/^\bsource\b/i},{name:"style",inline:0,mdable:0,alone:0,tagreg:/^\bstyle\b/i},{name:"summary",inline:0,mdable:0,alone:0,tagreg:/^\bsummary\b/i},{name:"table",inline:0,mdable:0,alone:0,tagreg:/^\btable\b/i},{name:"tbody",inline:0,mdable:0,alone:0,tagreg:/^\btbody\b/i},{name:"td",inline:0,mdable:1,alone:0,tagreg:/^\btd\b/i},{name:"tfoot",inline:0,mdable:0,alone:0,tagreg:/^\btfoot\b/i},{name:"th",inline:0,mdable:0,alone:0,tagreg:/^\bth\b/i},{name:"thead",inline:0,mdable:0,alone:0,tagreg:/^\bthead\b/i},{name:"title",inline:0,mdable:0,alone:0,tagreg:/^\btitle\b/i},{name:"tr",inline:0,mdable:0,alone:0,tagreg:/^\btr\b/i},{name:"trackaudio",inline:0,mdable:0,alone:0,tagreg:/^\btrackaudio\b/i},{name:"u",inline:0,mdable:0,alone:0,tagreg:/^\bu\b/i},{name:"ul",inline:0,mdable:0,alone:0,tagreg:/^\bul\b/i},{name:"video",inline:0,mdable:0,alone:0,tagreg:/^\bvideo\b/i},{name:"wbr",inline:0,mdable:0,alone:0,tagreg:/^\bwbr\b/i},{name:"b",inline:1,mdable:0,alone:0,tagreg:/^\bb\b/i},{name:"big",inline:1,mdable:0,alone:0,tagreg:/^\bbig\b/i},{name:"i",inline:1,mdable:0,alone:0,tagreg:/^\bi\b/i},{name:"small",inline:1,mdable:0,alone:0,tagreg:/^\bsmall\b/i},{name:"tt",inline:1,mdable:0,alone:0,tagreg:/^\btt\b/i},{name:"abbr",inline:1,mdable:0,alone:0,tagreg:/^\babbr\b/i},{name:"acronym",inline:1,mdable:0,alone:0,tagreg:/^\bacronym\b/i},{name:"cite",inline:1,mdable:1,alone:0,tagreg:/^\bcite\b/i},{name:"code",inline:1,mdable:0,alone:0,tagreg:/^\bcode\b/i},{name:"dfn",inline:1,mdable:0,alone:0,tagreg:/^\bdfn\b/i},{name:"em",inline:1,mdable:1,alone:0,tagreg:/^\bem\b/i},{name:"kbd",inline:1,mdable:0,alone:0,tagreg:/^\bkbd\b/i},{name:"strong",inline:1,mdable:0,alone:0,tagreg:/^\bstrong\b/i},{name:"samp",inline:1,mdable:0,alone:0,tagreg:/^\bsamp\b/i},{name:"time",inline:1,mdable:0,alone:0,tagreg:/^\btime\b/i},{name:"var",inline:1,mdable:0,alone:0,tagreg:/^\bvar\b/i},{name:"a",inline:1,mdable:0,alone:0,tagreg:/^\ba\b/i},{name:"bdo",inline:1,mdable:0,alone:0,tagreg:/^\bbdo\b/i},{name:"br",inline:1,mdable:0,alone:1,tagreg:/^\bbr\b/i},{name:"img",inline:1,mdable:0,alone:1,tagreg:/^\bimg\b/i},{name:"map",inline:1,mdable:0,alone:0,tagreg:/^\bmap\b/i},{name:"object",inline:1,mdable:0,alone:0,tagreg:/^\bobject\b/i},{name:"q",inline:1,mdable:0,alone:0,tagreg:/^\bq\b/i},{name:"script",inline:1,mdable:0,alone:0,tagreg:/^\bscript\b/i},{name:"span",inline:1,mdable:1,alone:0,tagreg:/^\bspan\b/i},{name:"sub",inline:1,mdable:0,alone:0,tagreg:/^\bsub\b/i},{name:"sup",inline:1,mdable:0,alone:0,tagreg:/^\bsup\b/i},{name:"button",inline:1,mdable:0,alone:0,tagreg:/^\bbutton\b/i},{name:"input",inline:1,mdable:0,alone:1,tagreg:/^\binput\b/i},{name:"label",inline:1,mdable:0,alone:0,tagreg:/^\blabel\b/i},{name:"select",inline:1,mdable:0,alone:0,tagreg:/^\bselect\b/i},{name:"textarea",inline:1,mdable:0,alone:0,tagreg:/^\btextarea\b/i}]},_secondcast:{str:{closeDrom:"]"},reg:{weakDrom:/\[\]/,closeDrom:/\]/,cautiveRebelAndDroid:/(?:\[(0|1)\])/,cautiveRebelsOrDroids:/(?:\[(0+|1+)\])/,cautiveRebelsAndDroids:/(?:\[[0|1]{1,}\])/},num:{rebel:1,droid:0}},_unicode:{"&amp;":'"',"&lt;":"<","&gt;":">","&itilde;":"í","&nbsp;":" ","&quot;":'"',"&apos;":"'","&copy;":"©","&reg;":"®","&trade;":"™","&euro;":"€","&deg;":"°","&sup2;":"²","&sup3;":"³","&micro;":"µ","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&pi;":"π"},checkTs:function(e){return me.$.isString(e)||"number"==typeof e?String(e):null},trimtag:function(e){return t=this,n=e.toLowerCase(),me.$.filter(t._cast.taglist,function(e){return e.tagreg.test(n)});var t,n},alone:function(e,t){return n=this,r=/^([a-zA-Z]+|\.\w+|\#\w+|\(\w+)/.test(e),i=this._cast.str[t?"inline":"block"].default.toLowerCase(),a=n.trimtag(e,i)[0]||null,l=me.$.filter(n._cast.taglist,function(e){return e.name===i})[0],s=null,s={alonetag:0,tagnode:i,mdable:1,tagreg:l.tagreg},r?/^[\.\#\(]/.test(e)?s:a?{alonetag:a.alone,tagnode:a.name,mdable:a.mdable,tagreg:a.tagreg}:s:s;var n,r,i,a,l,s},getElementByIDroc:function(t,e){var n=me.$.filter(e,function(e){return me.$.isElement(e)&&e.id===t});return n.length?n[0]:null},idinDOM:function(e,t){t=e?me.$.filter(e,function(e){return me.$.elementByIdExists(e)}):[];try{if(t.length)throw new me.e.e("Programmer error","Error! DOM already has element"+(1<t.length?"s":"")+" with id"+(1<t.length?"s":"")+": "+t.join(", ")+". Please, make a review of your tag, block or componentString.");return!1}catch(e){return me.e.eD(e),!0}},wprops:function(e){return me.$.isObject(e)?"holder"in e&&e.hasOwnProperty("holder")?e.holder:"container"in e&&e.hasOwnProperty("container")||"after"in e&&e.hasOwnProperty("after")||"before"in e&&e.hasOwnProperty("before")?e:me.$.isElement(e)?this.trimtag(e.tagName).alonetag?{}:e:{}:me.$.isString(e)?e:{}},unicodeText:function(txt){return txt.length?function(mi,vtxt){return vtxt.length?function(y){return me.$.map(vtxt,function(x){x=x.toLowerCase(),y=eval("/"+x+"/gi"),txt=txt.replace(y,mi._unicode[x]||y)}),txt}(null):txt}(this,txt.match(/\&\w+\;/g)||[]):""},commons:function(){return me.$.arrayToEmptyObject(this.resAttributes)}}}(this)}},_Vars={$:Object.create(r.api()),e:Object.create(_Error),a:Object.create(_Asset.api()),core:function(){return a=this,{rv:function(r,t){return(e=r.match(/(\${2}\w+)|(\$\w+)|(?:\$\(.+\)+)/gm))?a.$.isString(r)?a.$.emptyString(r)?"":(n="constructor",e.length&&(i=n[n][n]("u",'return u ? new Function("return " + u + ";")() : undefined;'),a.$.map(e,function(n){try{r=/^\${1}\w+/.test(n)?function(e,t){if(!i(e))throw new Error("No..thing");return t=i(e),r.replace(n,t)}(n.replace(/^\$+/,""),""):r,r=/^\${2}\w+/.test(n)?(e=n.replace(/^\$+/,""),"object"==typeof t&&t.hasOwnProperty(e)?r.replace(n,t[e]):r):r,r=/^\${1}\(/.test(n)?function(e){if(!i(e))throw new Error("No..thing");return r.replace(n,i(e))}(n.replace(/^\$\(/,"").replace(/\)$/,"").trim()):r}catch(e){return r}var e})),r):null:r;var e,n,i}};var a}},_MDwn={$:Object.create(r.api()),e:Object.create(_Error),a:Object.create(_Asset.api()),v:Object.create(_Vars.core()),core:function(){return s=this,r="",i=[],a=[],{rgx:{mdNL:"\n",mdpartsreg:/^(\[\/\/\]\:\s?\#)\s?.*/,mdfootreg:/^([\s\t]*(\[[\S\s]+\]\:))/,mdonebq:/^[\s\t]*\>{1}\s?/gm,mdtwobq:/^[\s\t]*(\>){2}\s?/gm,mdthreebq:/^[\s\t]*(\>){3}\s?/gm,mdpreg:/^\w/,parse_initial:/^(id\((\w+[\w\_\-]*\w+)\))+(?=(\s?\t?.?)+)+|^(class\([.,\s\w\_\-]+\))+(?=(\s?\t?.?)+)/gi,mddivreg:/^\?\s?/,mdbqreg:/^\/\s?/,mdpreoreg:/^[\`\+]{3}\s\S+/,mdprecreg:/^[\`\+]{3}$/,mdulreg:/^[\s\t]*[\+\-\*]\s/,mdloreg:/^[\s\t]*\d\.\s/,mdrulereg:/^[\-\=\_]{2,}$/},getMdContent:function(e,n){return e?(m=this.rgx,p=null,t=e[0],l=e[1],d=0,r=[],(p={mdfinished:h="",matchClasses:function(e){return e.length&&/^(class\([.,\s\w\_\-]+\))+(?=(\s?\t?.?)+)/gi.test(e)?(t=e.replace(m.parse_initial,""),(e=(e=(e=e.replace(t,"").replace(/^class\(/i,"").replace(/\)$/,"").replace(/[.,]+/,".").replace(/\s+/,".").split(".")).length?s.$.filter(e,function(e){return e}):[]).length?s.$.unique(e):"").length&&(a=a.concat(e)),e?' class="'+e.join("  ")+'"':""):"";var t},matchId:function(t){return t.length&&/^(id\((\w+[\w\_\-]*\w+)\))+(?=(\s?\t?.?)+)+/gi.test(t)?function(e){t=t.replace(e,"").replace(/^id\(/i,"").replace(/\)$/,"");try{if((n&&n.length?s.$.filter(n,function(e){return e.toLowerCase()===t.toLowerCase()}):[]).length)throw new s.e.e(s.a.UERROR,'Error in Markdown! id: "'+t+'" already exists in Tag!');if((s.$.elementByIdExists(t)?[0]:[]).length)throw new s.e.e(s.a.UERROR,'Error in Markdown! id: "'+t+'" already exists in DOM!');if((i.length?s.$.filter(i,function(e){return e.toLowerCase()===t.toLowerCase()}):[]).length)throw new s.e.e(s.a.UERROR,'Error in Markdown! id: "'+t+'" is repeated in your Markdown!');return i.push(t),t?' id="'+t+'"':""}catch(e){return void s.e.eD(e)}}(t.replace(m.parse_initial,"")):""},matchAttr:function(e){return t=p.matchId(e.replace(/^(class\([.,\s\w\_\-]+\))+(?=(\s?\t?.?)+)/gi,"")),n=p.matchClasses(e.replace(/^(id\((\w+[\w\_\-]*\w+)\))+(?=(\s?\t?.?)+)+/gi,"")),void 0===t?void 0:t+n;var t,n},mdinfo:function(i,a){return function(e,t,n,r){for(e in l)t[0]=l[e][0]?(i?'src="':'href="')+l[e][0].replace(/^\"|\"$/g,"")+'"':"",t[1]=l[e][1]?'title="'+l[e][1].replace(/^\"|\"$/g,"")+'"':"",t=t.length?s.$.filter(t,function(e){return e}):"",n[e]=t.length?t.join(" "):"";return r=(r=n.hasOwnProperty(a.ref)?i?n[a.ref]+a.val:n[a.ref]:"")?i?"<img "+r+" />":"<a "+r+">"+(l.hasOwnProperty(a.ref)?a.val:"")+"</a>":""}(0,[],{},"")},matchBlock:function(){return this.mdfinished=t.length?s.$.map(t,function(e){var t,n,r,i,a,l,s,o,c,u,g;if(void 0!==(h=m.parse_initial.test(e)?p.matchAttr(e):""))return e=m.parse_initial.test(e)?e.replace(m.parse_initial,""):e,e=m.parse_initial.test(e)?e.replace(m.parse_initial,""):e,e=m.mdpreg.test(e)?(t=e.length?e.split(""):e).length?1===(n=t.reverse().join("").search(/\S/))?"<p"+h+">"+e:2===n?e+"<br />":3===n?e+"</p>":"<p"+h+">"+e+"</p>":t:e,e=m.mddivreg.test(e)?(r=e.length?e.split(""):e).length?(i=r.reverse().join("").search(/\S/))<=1?"<div"+h+">":1<i?"</div>":e:r:e,e=/^\#{1}\s.*/.test(e)?e.replace(/^\#{1}\s/,"<h1"+h+">")+"</h1>":/^\#{2}\s.*/.test(e)?e.replace(/^\#{2}\s/,"<h2"+h+">")+"</h2>":/^\#{3}\s.*/.test(e)?e.replace(/^\#{3}\s/,"<h3"+h+">")+"</h3>":/^\#{4}\s.*/.test(e)?e.replace(/^\#{4}\s/,"<h4"+h+">")+"</h4>":/^\#{5}\s.*/.test(e)?e.replace(/^\#{5}\s/,"<h5"+h+">")+"</h5>":/^\#{6}\s.*/.test(e)?e.replace(/^\#{6}\s/,"<h6"+h+">")+"</h6>":e,e=m.mdbqreg.test(e)?(a=e.length?e.split(""):e).length?1===(l=a.reverse().join("").search(/\S/))?"<blockquote>"+e.replace(m.mdbqreg,""):2===l?e.replace(m.mdbqreg,"")+"</blockquote>":"<p>"+e.replace(m.mdbqreg,"")+"</p>":a:e,e=m.mdpreoreg.test(e)?(s=e.replace(/^[\`\+]{3}\s*/,"").trim(),h=s?h?/class\=\"/gi.test(h)?h.replace(/\"$/,"  "+s+'-lang"'):h+' class="'+s+'-lang"':' class="'+s+'-lang"':h,d=1,e.replace(m.mdpreoreg,"<pre"+h+"><ol>")):m.mdprecreg.test(e)?(d=0,e.replace(m.mdprecreg,"</ol></pre>")):d?"<li><code>"+e.replace(/\´/gm,"&#96;")+"</code></li>":e,e=m.mdrulereg.test(e)?e.replace(m.mdrulereg,"<hr />"):e,e=m.mdulreg.test(e)?(o=e.length?e.split(""):e).length?1===(c=o.reverse().join("").search(/\S/))?"<ul"+h+"><li>"+e.replace(m.mdulreg,"").trim()+"</li>":2===c?"<li>"+e.replace(m.mdulreg,"").trim()+"</li></ul>":e.replace(m.mdulreg,"<li>").trim()+"</li>":o:e,e=m.mdloreg.test(e)?(u=e.length?e.split(""):e).length?1===(g=u.reverse().join("").search(/\S/))?"<ol"+h+"><li>"+e.replace(m.mdloreg,"").trim()+"</li>":2===g?"<li"+h+">"+e.replace(m.mdloreg,"").trim()+"</li></ol>":e.replace(m.mdloreg,"<li"+h+">").trim()+"</li>":u:e,e=/^\|{2}\s/.test(e)?e.replace(/^\|{2}\s/,"<table"+h+"><thead><th>").replace(/\s\|$/,"</th></thead>").replace(/(\s\|\s)+/g,"</th><th>"):/^\|\s[\-\=\|\s]{2,}\s\|$/.test(e)?e.replace(/^\|\s[\-\=\|\s]{2,}\s\|$/,"<tbody>"):/^\|\s|\s\|$/.test(e)?e.replace(/^\|\s/,"<tr><td>").replace(/\s\|$/,"</td></tr>").replace(/(\s\|\s)+/g,"</td><td>").replace(/\s\|{2}$/g,"</tbody></table>"):e}):[],r=this.mdfinished.length?s.$.filter(this.mdfinished,function(e){return!e}):[],this.mdfinished=r.length?[]:this.mdfinished,this},matchinline:function(){return{mdstr:"",mdb:void 0,rgx:void 0,getResults:function(e){return t=this,e.length?s.$.map(e,function(e){t.mdstr=t.mdstr.split(e[0]).join(e[1])}):t.mdstr,t;var t},spanwords:function(){return this.mdstr=this.mdstr.replace(/[\*\_]{3}(?=[\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"<strong><em>").replace(/[\*\_]{3}(?![\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"</em></strong>"),this.mdstr=this.mdstr.replace(/[\*\_]{2}(?=[\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"<strong>").replace(/[\*\_]{2}(?![\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"</strong>"),this.mdstr=this.mdstr.replace(/[\*\_]{1}(?=[\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"<em>").replace(/[\*\_]{1}(?![\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"</em>"),this.mdstr=this.mdstr.replace(/\`{1}(?=[\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"<code>").replace(/\`{1}(?![\w\(\)\?\¿\!\¡\'\"\%\$\#\@\|\-\=])/gm,"</code>"),this},getImgtaginline:function(){return(e=this.mdstr.length?this.mdstr.match(/(?:\!\[.[^\[\]]+\]\([\s\w\\:.,;/-¿?"'|!¡@#$%&áéíóúñÑÁÉÍÓÚ]+\))/gm):"")&&e.length?s.$.map(e,function(e){return[[e,(t=e.split("]("),t.length?(t[0]=t[0]?'alt="'+t[0].replace(/^\!\[/,"")+'"':"",t[1]=t[1]?'src="'+t[1].replace(/\)$/,"").replace(/\s\"/,'" title="').replace(/\"$/,"")+'"':"","<img "+t.join(" ")+" />"):"")]];var t}):[];var e},getImgtagbyref:function(){return e=(t=this).mdstr.length&&this.mdstr.match(/(?:(\!\[[\w\s\|\-]+\]\[[\s\w\\\:.\/\-\#\?\"\=\|]+\]))/gm)||"",n=[],(n=(e=t.mdstr.length&&t.mdstr.match(/(?:(\!\[[\w\s\|\-]+\]\[[\s\w\\\:.\/\-\#\?\"\'\=\|]+\]))/gm)||"").length?s.$.map(e,function(e){return{refdom:e,ref:e.replace(/(?:(\!\[[\w\s\|\-]+\]))/,""),val:' alt="'+e.replace(/(?:(\[[\s\w\\\:.\/\-\#\?\"\=\|]+\]))$/,"").replace(/^(\!\[)|\]$/g,"")+'"'||""}}):[]).length?s.$.map(n,function(e){return[[e.refdom,t.mdb.mdinfo(1,e)]]}):[];var t,e,n},getImginline:function(){return this.getResults(this.getImgtaginline())},getImgbyref:function(){return this.getResults(this.getImgtagbyref())},getImplicitLink:function(){return(e=(e=(t=this).mdstr.length&&this.mdstr.match(/(?:(\[[\s\w\-\d]+\]\([\s\w\/\-\#]+\)))/gm)||"")&&e.length?s.$.map(e,function(e){return[[e,(t=e.split("]("),t.length?(t[0]=t[0]?t[0].replace(/^\[/,""):"",t[1]=t[1]?'href="'+t[1].replace(/\)$/,"")+'"':"",l.hasOwnProperty(t[0])?"":"<a "+t[1]+">"+t[0]+"</a>"):"")]];var t}):[]).length&&s.$.map(e,function(e){t.mdstr=t.mdstr.split(e[0]).join(e[1])}),t;var t,e},getLinktaginline:function(){return(e=this.mdstr.length?this.mdstr.match(/(?:\[.[^\[\]]+\]\([\s\w\\:.,;/\-¿?"'|!¡@#$%&áéíóúñÑÁÉÍÓÚ]+\))/gm):"")&&e.length?s.$.map(e,function(e){return[[e,(t=e.split("]("),t.length?(t[0]=t[0]?t[0].replace(/^\[/,""):"",t[1]=t[1]?'href="'+t[1].replace(/\)$/,"").replace(/\s\"/,'" title="').replace(/\"$/,"")+'"':"","<a "+t[1]+">"+t[0]+"</a>"):"")]];var t}):[];var e},getLinktagbyref:function(){return e=(t=this).mdstr.length?this.mdstr.match(/(?:(\[[\w\s\/\.]+\]\[[\w\s]+\]))/gm):"",n=[],r="",(n=e&&e.length?s.$.map(e,function(e){return r=e.replace(/(?:(\[[\w\s\/\.]+\]))$/,"").replace(/^\[|\]$/g,"")||"",{refdom:e,ref:e.replace(/^(?:(\[[\w\s\/\.]+\]))/,""),val:r.length?r:""}}):[]).length?s.$.map(n,function(e){return[e.refdom,t.mdb.mdinfo(0,e)]}):[];var t,e,n,r},getLinkinline:function(){return this.getResults(this.getLinktaginline())},getLinkbyref:function(){return this.getResults(this.getLinktagbyref())},init:function(e,t){return this.mdb=e,this.rgx=t,this.mdstr=e.mdfinished.length?e.mdfinished.join(t.mdNL):"",this.getImginline().getImgbyref().getImplicitLink().getLinkinline().getLinkbyref().spanwords().mdstr}}}}).matchBlock().matchinline().init(p,m)):null;var m,p,t,l,d,h,r},getMdInfo:function(e){return e.length?(t=e.length?e.split(this.rgx.mdNL):[],n={tag:void 0,ref:void 0},t=t.length?s.filter(t,function(e){return e&&/^(\[[\w\s\d]+\]\:\s).*$/g.test(e.trim())}):[],t=s.map(t,function(e){return(n=e.split(/\:\s/)).length?{ref:n[0],val:n[1]}:void 0}),n={},s.map(t,function(e){n[e.ref]=e.val.split(/\t+/)}),n):[];var t,n},getMdParts:function(e){return s.$.isArray(e)&&e.length?(n=(t=this).rgx,(r=1<=e.length?{content:e[0],info:e[2]}:[]).content&&(r.content=r.content.length?s.$.filter(r.content.split(n.mdNL),function(e){return e}):[],r.content=r.content.length?s.$.map(r.content,function(e){return e.replace(n.mdthreebq,"///").replace(n.mdtwobq,"//").replace(n.mdonebq,"/")}):[],r.content=r.content.length?r.content.join(n.mdNL):"",r.content=r.content.length?r.content.replace(/\</gm,"&lt;").replace(/\>/gm,"&gt;"):"",r.content=r.content.length?r.content.split(n.mdNL):[]),r.info=r.info?t.getMdInfo(r.info):void 0,r.content||r.info?[r.content,r.info]:null):null;var t,n,r},run:function(e,t,n){return e=s.$.isString(e)?s.$.emptyString(e)?"":s.v.rv(e,t):"",r=this.getMdContent(this.getMdParts(e.length?e.split(/(\[\/\/\]\:\s?\#)\s?.*/):[]),n),n?r.length?{idlist:i,classlist:s.$.unique(a),mdstring:r}:void 0:r}};var s,r,i,a},api:{run:function(e,t){return _MDwn.core().run(e,t)}}},_Ajax={e:Object.create(_Error),core:function(){return t=this,(e=function(){this.READY_STATE_COMPLETE=4,this.READY_STATE=200,this.data=null,this._response=null,this._info=null,this._xhr=null}).prototype={ready:function(){var e=this;this._info=this.data.data;try{if(!this.checkInfo("method","string")&&!this.checkInfo("source","string"))throw new t.e.e("Programmer error","Ajax: Error, data params gived are wrong!");if(this._xhr=new XMLHttpRequest||new ActiveXObject("Microsoft.XMLHTTP"),!this._xhr)throw new t.e.e("System Error","Ajax: Your system do not have support for Ajax technology!");this._xhr.onreadystatechange=function(){e.onReadyState()},this._xhr.open(this._info.method,this._info.source,!0),"post"===this._info.method.toLowerCase()&&this._xhr.setRequestHeader("Content-Type",this._info.header||"application/x-www-form-urlencoded"),this._xhr.send("post"===this._info.method.toLowerCase()&&"json"===this._info.datatype?JSON.stringify(this._info.data):this._info.data||null)}catch(e){"function"==typeof this.data.onerror?this.data.onerror(e):this.defaultErrorHandler(e)}},onReadyState:function(){this._xhr.readyState===this.READY_STATE_COMPLETE?this._xhr.status===this.READY_STATE?(this._response=this.checkInfo("restype","string")?"json"===this._info.restype.toLowerCase()?this.evalResponse()?JSON.parse(this._xhr.responseText):'{"response":"Error, data returned is not of type JSON!"}':this.checkInfo("restype","xml")?this._xhr.responseXML:this._xhr.responseText:this._xhr.responseText,"function"==typeof this.data.onready?this.data.onready(this._response):this.defaultHandler(this._response)):"function"==typeof this.data.onerror?this.data.onerror(this._xhr):this.defaultErrorHandler(this._xhr):"function"==typeof this.data.onpreload?this.data.onpreload(this._xhr.readyState):this.defaultPreloaderHandler(this._xhr.readyState)},checkInfo:function(e,t){return e in this._info&&typeof this._info[e]===t},evalResponse:function(){return!!this._xhr.responseText&&!!JSON.parse(this._xhr.responseText)},defaultHandler:function(e){t.e.eD({name:"Request Ajax processed succesfuly!",message:e,type:"info"})},defaultPreloaderHandler:function(e){t.e.eD({name:"Ajax loaded...",message:100*e/4+"%",type:"info"})},defaultErrorHandler:function(e){t.e.eD(e)},load:function(e){this.data=e,this.ready()}},new e;var t,e},api:function(){return t=this.core(),{load:function(e){t.load(e)}};var t}},_Tag={e:Object.create(_Error),$:Object.create(r.api()),v:Object.create(_Vars.core()),asset:Object.create(_Asset.api()),md:Object.create(_MDwn.core()),core:function(tagString,data,sc,rvars){return function(mi,_TagCore,_taginstance){return _TagCore.prototype={_e:0,_ts:function(tagString){var that=this,eHandler=function(e){try{throw new mi.e.e(e[0],e[1],e[2])}catch(e){mi.e.eD(e),"error"===e.type&&(that._e=1)}},evalEvents=function(){return{eFunction:function(e){return e&&"string"==typeof e?/[\W\s?]+/g.test(e)?/^function{1}\s*\(\)\s*\{(.*)\}\;?$/g.test(e)||/^\(\)\s*\=\>\s*\{(.*)\}\;?$/g.test(e):t:f},eEvent:function(t){return"string"==typeof t?/^function{1}\s*\(\)\s*\{(.*)\}\;?$/g.test(t)||/^\(\)\s*\=\>\s*\{(.*)\}\;?$/g.test(t)?function(e){try{if(!e(t)())throw new Error("Becareful! A good function is spected.");return e(t)()}catch(e){return console.warn("Programmer Error: "+e)}}((e="constructor")[e][e]("fx",'return fx ? Function("return " + fx + ";" ) : undefined;')):data&&"function"==typeof data&&!sc?t in w&&w.hasOwnProperty(t)||data.name&&data.name in w&&w.hasOwnProperty(data.name)?t===data.name||data.name==="bound "+t?data:"cb"===t?data:void 0:t===data.name||data.name==="bound "+t?data:"cb"===t?data:"ownmethod"===t?data:void 0:!data&&sc&&"object"==typeof sc?t in sc&&"function"==typeof sc[t]?sc[t]:void 0:data&&"object"==typeof data?sc?t in sc&&sc.hasOwnProperty(t)&&"function"==typeof sc[t]?sc[t]:t in data&&data.hasOwnProperty(t)&&"string"==typeof data[t]?sc[data[t]]:t in w&&w.hasOwnProperty(t)?w[t]:void 0:t in data&&"function"==typeof data[t]?(data.hasOwnProperty(t),data[t]):void 0:t in w&&w.hasOwnProperty(t)?w[t]:void 0:void 0;var e}}},mdContent=function(e,t){return mi.md.run(e.replace(/^[\s\t]*MD:[\s\n]?/i,""),u,t)},simpleContentUnicode=function(e){return e.length?mi.asset.unicodeText(e):""},tsMatcher={parser:{parse_entirely:/.*/,parse_initial:/^([.#][\w\_\-]+)+(?=(\s?|\())/,parse_parenthesess:/^(?:(\(([a-zA-Z\_\-]+="([^\[]+)"[\,\s]?)+\)))/,tag_test:function(e,t){return mi.asset.alone(e,t)},parse_tag:function(e,t){return this.tag_test(this.parse_entirely.test(e)?e:null,t)},parse_att:function(e){return e.length?(n=(t=this).parse_initial.test(e.trim()),(r={}).initial=n&&e.match(t.parse_initial)||"",r.initial=r.initial.length?r.initial[0]:"",r.content=r.initial.length?e.replace(r.initial,"").replace(/[\/\\]\[/g,"__rocopdrom__").replace(/[\/\\]\[/g,"__roccdrom__"):e,r.initial=r.initial.length?r.initial.replace(/\W+$/,""):"",r.parens=t.parse_parenthesess.test(r.content)&&r.content.match(t.parse_parenthesess)||"",r.parens=r.parens.length?r.parens[0]:"",r.content=r.parens.length?r.content.replace(r.parens,""):r.content,r.parens=r.parens.length&&r.parens.trim().replace(/^\(|\)$/g,"").replace(/\"\,\s?/g,"__rocas__").replace(/\"/g,"").replace(/__rocopdrom__/g,"[").replace(/__roccdrom__/g,"]")||"",r):{initial:"",parens:"",content:""};var t,n,r}},attributes:function(att){return att.attributes?function(ini,par){var mj,nj,oj,pj,qj,uj;return att.attributes.initial=ini?(mj=ini?mi.$.filter(ini.split("#"),function(e){return e&&"#"!==e.replace(/\.+.*/,"")&&"#"!==e}):null,nj=ini?mi.$.filter(ini.split("."),function(e){return e}):null,oj={},oj.id=mj&&mj.length&&(pj=(pj=mi.$.filter(mj,function(e){return e&&!/^\./.test(e)})).length&&(qj=mi.$.map(pj,function(e){return e.replace(/[.#]+.*/,"")})).length?mi.$.filter(qj,function(e){return e}):[]).length?pj[0].replace(/\W*$/g,""):null,oj.class=nj&&nj.length&&(uj=(uj=(uj=mi.$.filter(nj,function(e){return e&&!/^\#/.test(e)})).length?mi.$.map(uj,function(e){return e.replace(/[#.]+.*/,"")}):[]).length?mi.$.unique(uj):[]).length?uj.join("  "):null,oj):null,att.attributes.initial=att.attributes.initial&&(att.attributes.initial.id||att.attributes.initial.class)?att.attributes.initial:null,att.attributes.parenthesess=par?function(pa,i,p){return pa&&pa.length?function(ii,ic){return function(commonaux){var zj,Ej,Ij,Lj,Mj;return p.id=ii?null:(zj=mi.$.filter(pa,function(e){return/^id=/i.test(e)}),zj.length?zj[0].replace(/^id=+/,"").replace(/[^\w\-][\W+]*.*/g,"").replace(/\W*$/g,""):null),p.class=function(pclass,nclass){return nclass=pclass.length?pclass[0].replace(/^class=+/,"").replace(/\,+/g," ").split(/\s+/):[],nclass.length?function(nc){return nc.length?function(i){return nc=nc.replace(/\-/g,"__rocdash__"),mi.$.map(i,function(x){var y=eval("/\\b"+x.replace(/\-/g,"__rocdash__")+"\\b/g");nc=nc.replace(y,"")}),nc=nc.length?mi.$.filter(nc.split(/\s+/g),function(e){return e&&!/\W/g.test(e)}):"",nc=nc.length?mi.$.map(nc,function(e){return e.replace(/\W*$/g,"").replace(/__rocdash__/g,"-")}):"",nc.length?nc.join("  ").trim():""}(ic||[]):null}(mi.$.unique(nclass).join(" ")):null}(mi.$.filter(pa,function(e){return/^class=/i.test(e)}),""),p.common=pa?(Ej=mi.$.filter(pa,function(e){return!/^class=/.test(e)&&!/^id=/.test(e)&&!/^data=/.test(e)}),(Ej=(Ej=(Ej=Ej.length?mi.$.filter(Ej,function(e){return mi.asset.commons().hasOwnProperty(e.replace(/=+.*/g,""))}):[]).length?mi.$.unique(Ej):[]).length?mi.$.map(Ej,function(e){return commonaux[e.replace(/=+.*/g,"")]=e.replace(/^(.*)=+/g,"").trim(),{name:e.replace(/=+.*/g,""),val:e.replace(/^(.*)=+/g,"").trim()}}):[]).length?Ej:null):null,p.custom=pa?(Ij=mi.$.filter(pa,function(e){return/^data\-[a-zA-Z\d\-]+\=+[\w\d\-]+/i.test(e)}),(Ij=(Ij=mi.$.unique(Ij))&&Ij.length?mi.$.map(Ij,function(e){return{name:e.split("=")[0].replace(/^data-[xml\-]+/i,"data-").replace(/(xml\-?)+/i,"").toLowerCase().replace(/\W*$/g,""),val:e.replace(/^data\-[a-zA-Z\d\-]+\=+/i,"")}}):[]).length?Ij:null):null,p.events=pa?(Lj=mi.$.filter(pa,function(e){return!/^class=/.test(e)&&!/^id=/.test(e)&&!/^data=/.test(e)}),Mj=commonaux,(Lj=(Lj=(Lj=(Lj=(Lj=(Lj=mi.$.isEmptyObject(Mj)?Lj:Lj.length?mi.$.filter(Lj,function(e){return!Mj.hasOwnProperty(e.replace(/=+.*/g,"").toLowerCase())}):[]).length?mi.$.unique(Lj):[]).length?mi.$.map(Lj,function(e){return/^\bon\b/.test(e)?e:"on"+e}):[]).length?mi.$.filter(Lj,function(e){return evalEvents().eFunction(e.replace(/^(.*)=+/g,""))}):[]).length?mi.$.map(Lj,function(e){return{event:e.replace(/=+.*/g,""),fn:e.replace(/^(.*)=+/g,""),fns:e.replace(/^(.*)=+/g,"")}}):[]).length?mi.$.filter(Lj,function(e){return e.fn=evalEvents().eEvent(e.fn),e.fn}):[]).length?Lj:null):null,p}({})}(i&&i.id?i.id:null,i&&i.class?i.class.split("  "):null):null}(par?par.split("__rocas__"):null,att.attributes.initial,{}):null,att.attributes.parenthesess=att.attributes.parenthesess&&(att.attributes.parenthesess.id||att.attributes.parenthesess.class||att.attributes.parenthesess.common||att.attributes.parenthesess.custom||att.attributes.parenthesess.events)?att.attributes.parenthesess:null,delete att.attributes.parens,att.attributes=att.attributes.initial||att.attributes.parenthesess?att.attributes:null,att}(att.attributes.initial||null,att.attributes.parens||null):att},contents:function(i,t,e){return r=null,n=0,(r={valueClassificator:function(e){return mi.$.map(e,function(e){return n=e.split(/\←/).length-1,/^\→.+[^\←]$/.test(e)?{type:1,value:e.replace(/\→/,""),closetag:n,md:!1}:/(^\→.+\←$)|(^\→|\←$)/gm.test(e)?{type:2,value:e.replace(/[\→\←]/g,""),closetag:n,md:!1}:{type:0,value:t?e:0<=e.search(/\S/)?mi.$.lTrim(e.replace(/_dashtiptorocjs_/g,"-").replace(/_squarebracetiptorocjs_/g,"/]"),1):e,closetag:n,md:t}})},sonsClassificator:function(e,t){var n,r,i;return 1===e.split("←").length?t.push(e):2===e.split("←").length?(i=e.split("←"),mi.$.map(i,function(e){e&&t.push(e.search("→")?e:e+"←")})):2<e.split("←").length&&(""===(n=e.split("←"))[n.length-1]?t.push(n.join("←")):(r=[n.join("←").replace(n[n.length-1],""),n[n.length-1]+""],mi.$.map(r,function(e){t.push(e)}))),t},prepareSons:function(e,t,n){return mi.$.map(e,function(e){r.sonsClassificator(e,t)}),(t.length?mi.$.filter(t,function(e){return/^[\s\t]*MD:[\s\n]?/i.test(e)}):[]).length?(t=mi.$.map(t,function(e){return/^[\s\t]*MD:[\s\n]?/i.test(e)?"→"+e+"←":e}),t=(t=mi.$.map(t,function(e){return e.replace("→","#[").replace(/←/g,"]")})).join("").replace(/\#\[/g,"#[→").replace(/\]/g,"←").split(/\#\[/g)):e},runContent:function(){return mi.$.emptyString(i)?null:((r=/(\#\[)$|(\#\[){2,}/g.test(i))&&eHandler([mi.asset.UERROR,"Wrong tagString!: "+i,"warn"]),r?null:-1===i.search(/\#\[/g)?[0,"0",this.valueClassificator([i])]:(t=this,e=i.replace(/\#\[/g,"#[→").replace(/[\/\\]\]/g,"_squarebracetiptorocjs_").trim().replace(/\]/g,"←").split(/\#\[/g),n=[],e=t.prepareSons(e,[],[]),mi.$.map(e,function(e){t.sonsClassificator(e,n)}),[1,mi.$.map(e,function(e){return mi.$.map(e.split("←"),function(e){return 0===e.search("→")?"1":e?"0":""}).join("]")}).join("[").replace(/\[1\]/g,"1"),t.valueClassificator(mi.$.filter(n,function(e){return e}))]));var t,e,n,r}}).runContent();var r,n},tsconstructor:function(e,t){return that._e?null:((r={}).tag=(n=this).parser.parse_tag(e,t),r.tag||eHandler([mi.asset.UERROR,"Wrong tagString!: "+e]),r.rest=n.parser.parse_att(e.replace(r.tag.tagreg,"")),r.content=r.rest.content?r.tag.alonetag?null:n.contents(/^[\s\t]*MD:[\s\n]?/i.test(r.rest.content)?r.tag.mdable?r.rest.content:"":r.rest.content,/^[\s\t]*MD:[\s\n]?/i.test(r.rest.content,t)):null,n.attributes({tag:r.tag,attributes:r.rest.initial||r.rest.parens?{initial:r.rest.initial.replace(/\.{2,}/,".").replace(/\#{2,}/,"#")||null,parens:r.rest.parens||null}:null,content:r.content?r.content:null}));var n,r},run:function(e,t){return mi.$.isString(e)?this.tsconstructor(e,t):void 0}},getSimpleTagStructure=function(e){return that._e?null:e?(e.content&&(t=e.content[0],n=e.content[2],mi.$.map(n,function(e){e.value=t&&e.type?tsMatcher.run(e.value,1):e.value})),e):null;var t,n},getClassList=function(e){return function(e){return t=e.attributes,n=e.content,r=[],t&&(t.initial&&t.initial.class&&r.push(t.initial.class),t.parenthesess&&t.parenthesess.class&&r.push(t.parenthesess.class)),n&&n[2]&&mi.$.isArray(n[2])&&mi.$.map(n[2],function(e){e.type&&(e.value.attributes&&e.value.attributes.initial&&e.value.attributes.initial.class&&r.push(e.value.attributes.initial.class),e.value.attributes&&e.value.attributes.parenthesess&&e.value.attributes.parenthesess.class&&r.push(e.value.attributes.parenthesess.class))}),r.length?mi.$.unique(r.join(" ").split(/\s+/)):[];var t,n,r}(e)},earlyCheckIds=function(e){return t=null,(t=function(e){return t=e.attributes,n=e.content,r=[],i=[],a=[],t&&(t.initial&&t.initial.id&&r.push(t.initial.id),t.parenthesess&&t.parenthesess.id&&r.push(t.parenthesess.id)),n&&n[2]&&mi.$.isArray(n[2])&&mi.$.map(n[2],function(e){e.type&&(e.value.attributes&&e.value.attributes.initial&&e.value.attributes.initial.id&&i.push(e.value.attributes.initial.id),e.value.attributes&&e.value.attributes.parenthesess&&e.value.attributes.parenthesess.id&&i.push(e.value.attributes.parenthesess.id))}),(r.length||i.length)&&(r=(a=r.concat(i))?mi.$.unique(a):[],i=a?mi.$.unique(mi.$.repeated(a)):[],a=(a=(a=r.concat(i)).length?mi.$.unique(a):[]).length?mi.$.filter(a,function(e){return mi.$.elementByIdExists(e)}):[]),{idlist:r.length?r:null,repeated:i.length?i.join(", "):"",dom:a};var t,n,r,i,a}(e)).repeated?(eHandler([mi.asset.UERROR,"Your tagString has repeated ids!: "+t.repeated+"."]),{idlist:null,repeated:1,dom:null}):(t.dom.length&&eHandler([mi.asset.UERROR,"Becareful, your tagString has ids that already exists in DOM!: "+t.dom.join(", ")+".","warn"]),{idlist:t.idlist,domlist:t.dom.length?t.dom:null,repeated:t.repeated});var t},getSimpleTagString=function(e){return e&&mi.$.isObject(e)&&!mi.$.isEmptyObject(e)?(t=e.tag,n=e.attributes,r=e.content,i="",a=[],l=[],s=[],o=[],n&&(n.initial&&(i+=n.initial.id?"#"+n.initial.id:"",i+=n.initial.class?"."+n.initial.class.replace(/\s+/g,"."):""),n.parenthesess&&(n.parenthesess.id&&a.push('id="'+n.parenthesess.id+'"'),n.parenthesess.class&&a.push('class="'+n.parenthesess.class.replace(/\s+/g," ")+'"'),n.parenthesess.common&&(mi.$.map(n.parenthesess.common,function(e){l.push(e.name+'="'+e.val+'"')}),l.length&&a.push(l.join(", "))),n.parenthesess.custom&&(mi.$.map(n.parenthesess.custom,function(e){s.push(e.name+'="'+e.val+'"')}),s.length&&a.push(s.join(", "))),n.parenthesess.events&&(mi.$.map(n.parenthesess.events,function(e){e.hasOwnProperty("truevent")&&e.truevent&&o.push(e.event+'="'+e.fns+'"')}),o.length&&a.push(o.join(", "))),i+=a.length?"("+a.join(", ")+")":"")),r=r?mi.$.isString(r)?r:mi.$.isArray(r)?t.mdable&&r[2][0].md?"[Markdown content/]":r[2][0].value:"":"",t.tagnode+i+(t.alonetag?"":r?/^\s/.test(r)?r:" "+r:"")):"";var t,n,r,i,a,l,s,o},getVirtualElement=(il={},il.createElement=function(e){return d.createElement(e)},il.setAttributes=function(t,e,n){e&&(e.initial&&(e.initial.id&&t.setAttribute("id",e.initial.id),e.initial.class&&(n+=e.initial.class)),e.parenthesess&&(e.parenthesess.id&&t.setAttribute("id",e.parenthesess.id),e.parenthesess.class&&(n+=n.length?"  "+e.parenthesess.class:e.parenthesess.class),e.parenthesess.common&&mi.$.map(e.parenthesess.common,function(e){t.setAttribute(e.name,e.val)}),e.parenthesess.custom&&mi.$.map(e.parenthesess.custom,function(e){t.setAttribute(e.name,e.val)}),e.parenthesess.events&&mi.$.map(e.parenthesess.events,function(e){w.hasOwnProperty(e.event)&&e.event in t?(t.addEventListener(e.event.replace(/^on/,""),e.fn),e.truevent=1):e.truevent=0})),n.length&&t.setAttribute("class",n.trim()))},il.setNewContent=function(e,t){t&&(mi.$.isTextNode(t)?e.appendChild(t):mi.$.isString(t)&&(e.innerHTML=t.replace(/\|\[/gm,"#[")))},il.setElmContent=function(t,e){e&&e.length&&mi.$.map(e,function(e){t.appendChild(e)})},il.createTextNode=function(e){return d.createTextNode(mi.$.sanitizeString(simpleContentUnicode(e)).replace(/\/\]/g,"]").replace(/\|\[/g,"#["))},il.getNewElement=function(e,t,n,r,i){var a;return r=il.createElement(e),t&&il.setAttributes(r,t,""),n&&(mi.$.isArray(n)?il.setElmContent(r,n):il.setNewContent(r,n.md?(a=mdContent(n.value.replace(/_squarebracetiptorocjs_/g,"]"),i.idlist||[]),i.classlist=i.classlist?a.classlist.length?i.classlist.concat(a.classlist):i.classlist:a.classlist.length?a.classlist:i.classlist,i.idlist=i.idlist?a.idlist.length?i.idlist.concat(a.idlist):i.idlist:a.idlist.length?a.idlist:i.idlist,a.mdstring):il.createTextNode(n.value))),r},{getNewElement:il.getNewElement,createElement:il.createElement,createTextNode:il.createTextNode}),getChildNodes=function(e,t){return e.type?getVirtualElement.getNewElement(e.value.tag.tagnode,e.value.attributes,e.value.content?e.value.content[2][0]:null,null,t):getVirtualElement.createTextNode(e.value)},getMainNode=function(e){return getVirtualElement.getNewElement(e.tag.tagnode,e.attributes,e.content?e.content[0]?mi.$.map(e.content[2],function(e){return e.htmlvalue}):e.content[2][0]:null,null,e)},getHTMLcontent={getRightInlineTagsInContent:function(e){return e?mi.$.isArray(e)?(t=/\[[01]+\]/,e[0],s=e[1],o=e[2],c=[],n=[],(u=function(){return t.test(s)?function(e,t,n,r,i,a,l){if(t=e.replace(/^\[|\]$/g,""),s=s.replace(e,1),i=n+1,a=t.length-1+i,1!==o[n].type||o[n].value.tag.alonetag){for(r=i;r<a;r++)o.splice(i,1);o[n].type&&(o[n].type=2),o[n].type&&(o[n].closetag=1)}else{for(r=i;r<a;r++)o[n].htmlvalue.appendChild(o[r].htmlvalue);for(r=i;r<a;r++)l.push(o[r]);for(c.push({elements:l,position:i}),r=i;r<a;r++)o.splice(i,1)}u()}(s.substring(s.search(t),s.search(/\]/)+1),"",s.substring(0,s.search(/\[[01]+\]/)).replace(/\[/g,"").length,0,0,0,[]):void 0})(),r=c.reverse(),i=[],a=[],r.length?(a=mi.$.map(o,function(e){return e.type?"#["+e.tagString+(1===e.type?"":mi.$.repeatString("]",e.closetag)):e.value}),mi.$.map(r,function(e){i.push([mi.$.map(e.elements,function(e){return e.type?"#["+e.tagString+(1===e.type?"":mi.$.repeatString("]",e.closetag)):e.value}),e.position])}),n=mi.$.map(o,function(e){return e}),mi.$.map(r,function(e){n=mi.$.pushArrayInArray(n,e.elements,e.position)}),mi.$.map(i,function(e){a=mi.$.pushArrayInArray(a,e[0],e[1])})):(n=mi.$.map(o,function(e){return e}),a=mi.$.map(o,function(e){return e.type?"#["+e.tagString+(1===e.type?"":mi.$.repeatString("]",e.closetag)):e.value})),void e.push({allchild:n,allts:a})):e:null;var t,s,o,c,n,r,i,a,u},build:function(t){return that._e?null:t?(e=this,(n=earlyCheckIds(t)).reppeated||(t.idlist=n.idlist,t.idDOM=n.domlist,t.classlist=getClassList(t)),n.repeated?null:t.tag.alonetag?t:t.content&&t.content[0]?mi.$.isArray(t.content[2])?(r=t.content[2],mi.$.map(r,function(e){e.htmlvalue=getChildNodes(e,t)}),mi.$.map(r,function(e){e.tagString=e.type?getSimpleTagString(e.value):e.value}),e.getRightInlineTagsInContent(t.content),t||null):(t.content=null,t):t):null;var e,n,r}},getFinalTagString=function(e){return that._e?null:e?(n=[],(t={}).tag=getMainNode(e),t.idDOM=e.idDOM,n=e.attributes&&e.attributes.parenthesess&&e.attributes.parenthesess.events?e.attributes.parenthesess.events:[],(n=mi.$.isArray(n)&&n.length?mi.$.filter(n,function(e){return e.truevent}):[]).length&&(t.events={},mi.$.map(n,function(e){t.events[e.event]=e.fns})),t.idlist=e.idlist,t.classlist=e.classlist,t.pTagString=tagString,t.tagString=getSimpleTagString({tag:e.tag,attributes:e.attributes,content:e.content?e.content[0]?e.content[3].allts.join(""):e.content:null}),e.tag.alonetag||e.content&&4===e.content.length&&mi.$.isObject(e.content[3])&&(t.children=[],t.children=mi.$.map(e.content[3].allchild,function(e){var t={};return t.element=e.htmlvalue,t.tagstring=e.tagString,e.type&&e.value.attributes&&e.value.attributes.parenthesess&&e.value.attributes.parenthesess.events&&(t.events={},mi.$.map(e.value.attributes.parenthesess.events,function(e){t.events[e.event]=e.fns})),t})),t):null;var t,n},evalTagString=function(){return getFinalTagString(getHTMLcontent.build(getSimpleTagStructure(tsMatcher.run(mi.v.rv(tagString,rvars)))))||void 0},il;return evalTagString()}},_taginstance=new _TagCore(tagString),_taginstance._ts(mi.asset.checkTs(tagString))}(this,function(){},null)},api:function(){return l=this,i=function(){},c=o=s=null,function(e,t,n,r,a){return s=function(t){return t?((c=function(){this.tagstrings=t.tagstrings||null,this.events=t.tagobject.events||null,this.idlist=t.tagobject.idlist||null,this.idDOM=t.tagobject.idDOM||null,this.classlist=t.tagobject.classlist||null,this.tagchild=t.tagobject.childtags||null,this.tag=t.tagobject.tag||null}).prototype={getTag:function(){return t.getTag()},setTag:function(e){return t.setTag(e),this},delTag:function(){return t.delTag(),this},tagChild:function(e){return t.tagChild(e)},tagstringChild:function(e){return t.tagstringChild(e)}},new c):void 0},o=function(e,t){return a=t||a,e?(n=null,i={},n=function(e,t){return l.$.isString(e)&&e.length?l.asset.getElementByIDroc(e,l.$.map(t,function(e){return e.element})):!isNaN(e)&&e<t.length&&0<=e?t[parseInt(e,10)].element:void 0},(r={}).tag=e.tag,r.classlist=l.$.isArray(e.classlist)&&e.classlist.length?e.classlist:null,r.idlist=e.idlist,e.idDOM&&(r.idDOM=e.idDOM),e.events&&(r.events=e.events),e.children&&(r.childtags=e.children),i.tagobject=r,i.tagstrings={tagstring:e.tagString,mytagString:e.pTagString},i.getTag=function(){return i.tagobject.tag},i.setTag=function(e){"settedInDOM"in i.tagobject.tag||i.tagobject.tag.hasOwnProperty("settedInDOM")||l.asset.idinDOM(i.tagobject.idlist,null)||(l.$.elementInsertChild(e||l.asset.wprops(a),i.tagobject.tag),i.tagobject.tag.settedInDOM=1)},i.delTag=function(){"settedInDOM"in i.tagobject.tag&&i.tagobject.tag.hasOwnProperty("settedInDOM")&&l.$.isElement(i.tagobject.tag.parentElement)&&(delete i.tagobject.tag.settedInDOM,i.tagobject.tag.parentElement.removeChild(i.tagobject.tag))},i.tagChild="childtags"in i.tagobject&&i.tagobject.hasOwnProperty("childtags")?function(e){return e?n(e,i.tagobject.childtags):i.tagobject.childtags.length?l.$.map(i.tagobject.childtags,function(e){return e.element}):void 0}:function(){return null},i.tagstringChild="childtags"in i.tagobject&&i.tagobject.hasOwnProperty("childtags")?function(t){return!isNaN(t)&&t<i.tagobject.childtags.length&&0<=t?i.tagobject.childtags[t].tagstring:i.tagobject.childtags.length?l.$.isString(t,[])?l.$.emptyString(t)?void 0:(e=l.$.filter(i.tagobject.childtags,function(e){return e.id===t})).length?e.tagstring:void 0:l.$.map(i.tagobject.childtags,function(e){return e.tagstring}):void 0;var e}:function(){return null},i):function(){try{throw new l.e.e(l.asset.UERROR,l.asset.MERROR)}catch(e){return l.e.eD(e),null}}();var n,r,i},i.prototype={createTag:function(e,t,n,r,i){return function(e,t,n,r,i){return s(o(l.core(e,t,n,r),i))}(e,t,n,r,i)}},l.asset.checkTs(e)?s(o(l.core(e,t,n,r))):new i};var l,s,o,i,c},_api:function(){return{api:this.api()}}},_Block={e:Object.create(_Error),$:Object.create(r.api()),asset:Object.create(_Asset.api()),tag:Object.create(_Tag._api()),core:function(blockString,fn,scope,rvars,props){return function(me,_BlockCore,_blockinstance){return _BlockCore=function(e){this.blockString=me.asset.checkTs(e),this._e=0,this._initialTags=me.$.cleanArray(this.blockString.split("\n")),this._stringTags=me.$.map(this._initialTags,function(e){return e.trim()})},_BlockCore.prototype={eHandler:function(e){try{throw new me.e.e(e[0],e[1],e[2])}catch(e){me.e.eD(e),"error"===e.type&&(this._e=1)}},_vectorFinalPositionsMaker:function(e,t,n,r){if(t=me.$.map(e,function(e){return e}),r=e[1],(t=me.$.map(t,function(e){return e-r+1},1))[(e=me.$.map(e,function(e){return e-r+1},1))[0]=0]=0,2===e.length)t[e[1]=1]=1;else if(2<e.length)for(t[e[1]=1]=1;n<e.length;n++)e[n]>e[n-1]&&(e[n]=e[n]<=t[n-1]?e[n-1]:e[n-1]+1),e[n]<1&&(e[n]=1);return e},_vectorTabs:function(e){return me.$.isArray(e)&&e.length?this._vectorFinalPositionsMaker(me.$.map(e,function(e){return e.search(/[\w\.\#\(]/)}),[],2,0):null},_vectorPositions:function(pos){return function(mi,i,droms,dromStart,dromEnd,buildDromedaries,theMissionSearchRebelsInDromedaries){if(buildDromedaries=function(e,t,n){var r=0,i=e.length-1;for(r=t;r<e.length;r++){if(!(e[r]>n)){i=r-1;break}i=r}return i},theMissionSearchRebelsInDromedaries=function(dromString){return"string"!=typeof dromString?mi.eHandler([me.asset.UERROR,"Wrong blockString: "+typeof dromString]):dromString.replace(eval(me.asset._secondcast.reg.weakDrom+"gi"),me.asset._secondcast.num.rebel)},me.$.isArray(pos)&&pos.length){for(i in pos)droms.push(dromStart);for(i=1;i<pos.length;i++)pos[i]<=pos[i-1]?droms[i-1]+=dromEnd:droms[buildDromedaries(pos,i,pos[i-1])]+=dromEnd;droms[pos.length-1]+=dromEnd}return theMissionSearchRebelsInDromedaries(droms.join("")).replace(/\[/g,"[1")}(this,0,[],"[","]",null,null)},_generateBlock:function(e,t){return function l(s,o,c){return s.test(o)?function(e,t,n,r,i,a){if(s.test(o)){for(t=e.replace(/^\[|\]$/g,""),o=o.replace(e,1),i=n+1,a=t.length-1+i,r=i;r<a;r++)c[n].appendChild(c[r]);for(r=i;r<a;r++)c.splice(i,1)}return s.test(o)?l(/\[[01]+\]/,o,c):c[0]}(o.substring(o.search(s),o.search(/\]/)+1),"",o.substring(0,o.search(/\[[01]+\]/)).replace(/\[/g,"").length,0,0,0):c[0]}(/\[[01]+\]/,e,t)},_generateBlockString:function(n,r){return function e(t){return t<r.length&&(r[t]=me.$.repeatString("\t",n[t])+r[t]),t===r.length?r.join("\n"):e(t+1)}(1)},_blockList:function(a,l){return this._e?null:l.length?function(e,t,n){n=me.$.map(l,function(e){return{value:{tag:me.asset.alone(e)},type:2}});for(var r=0;r<n.length;r++)n[r].ts=a[r].trim();for(var i=0;i<n.length;i++)n[i].tab=t[i];return[1,e,n]}(this._vectorPositions(this._vectorTabs(a)),this._vectorTabs(a),[]):null},_parents:function(l){return this._e?null:l?function e(t,n,r,i,a){if(t<l[2].length&&l[2][t].value.tag.alonetag){for(i=(r=t)+1,a=l[2].length;i<a&&!(l[2][i].tab<=l[2][t].tab);i++)r+=1;i=t+1,l[2]=me.$.filter(l[2],function(e){return e.tab<=l[2][t].tab},t,r)}return t>=l[2].length?l:e(t+1,null,null,null,null)}(0,0,null,null,null):null},_newparents:function(e){return this._e?null:e&&e.length?(t=this,n=me.$.map(e[2],function(e){return e.tab}),r=me.$.map(e[2],function(e){return e.ts}),i=[],a=[],e[1]=t._vectorPositions(t._vectorFinalPositionsMaker(n,[],2,0)),r=me.$.map(r,function(e){return me.tag.api(e,fn,scope,rvars,props)}),me.$.map(r,function(e){e||t.eHandler([me.asset.UERROR,"Error! Please write correct blockStrings!"])}),t._e?null:(l=[],s=[],o=[],l=me.$.filter(r,function(e){return e.classlist}),me.$.map(l,function(e){s=s.concat(e.classlist)}),s=s.length?me.$.unique(s):[],l=me.$.filter(r,function(e){return e.idDOM}),me.$.map(l,function(e){o=o.concat(e.idDOM)}),o=o.length?me.$.unique(o):[],i=me.$.filter(r,function(e){return e.idlist}),i=me.$.map(i,function(e){a=a.concat(e.idlist)}),i=(i=(i=me.$.repeated(a)).length?me.$.unique(i):null)&&i.length?i.join(", "):null,{tabs:n,blockchild:r,postring:e[1],idlist:a,repeatedids:i,classlist:s,idDOM:o})):null;var t,n,r,i,a,l,s,o},_finalBlockStructure:function(e){return this._e?null:e?(t=this,(n=e.repeatedids)?t.eHandler([me.asset.UERROR,"Your blockString has repeated ids!: "+n+"."]):e.blockchild.length?(r={},t._generateBlock(e.postring,me.$.map(e.blockchild,function(e){return e.tag})),r.blockstrings={blockstring:t._generateBlockString(e.tabs,me.$.map(e.blockchild,function(e){return e.tagstrings.tagstring})),myblockString:blockString},r.blockobject=e.blockchild.shift(),r.idlist=me.$.map(e.idlist,function(e){return e}),r.idDOM=me.$.map(e.idDOM,function(e){return e}),r.classlist=me.$.map(e.classlist,function(e){return e}),e.blockchild.length&&(r.blockchild=me.$.map(e.blockchild,function(e){return e})),r):null):null;var t,n,r},_bs:function(){return this._finalBlockStructure(this._newparents(this._parents(this._blockList(this._initialTags,this._stringTags))))||void 0}},_blockinstance=new _BlockCore(blockString),_blockinstance._bs()}(this,null,null)},api:function(){return l=this,i=function(){},c=o=s=null,function(e,t,n,r,a){return s=function(n){return n?((c=function(){this.classlist=n.classlist,this.idDOM=n.idDOM||null,this.idlist=n.idlist||null,this.block=n.block||null,this.events=n.events||null,this.blockmain=n.blockmain,this.blockchild=n.blockchild,this.blockstrings=n.blockstrings}).prototype={delBlock:function(){return n.delBlock(),this},getBlock:function(){return n.getBlock()},setBlock:function(e){return n.setBlock(e),this},getChild:function(e){return n.getChild(e)},blockstringChild:function(e){return n.blockstringChild(e)},innerHTML:function(e,t){return n.innerHTML(e,t),this},textContent:function(e,t){return n.textContent(e,t),this}},new c):void 0},o=function(n,e){return a=e||a,n?function(r,i){try{if(!n)throw new l.e.e(l.asset.UERROR,"Error! Missing correct blockString!");return i.classlist=n.classlist&&n.classlist.length?n.classlist:null,i.idlist=n.idlist&&n.idlist.length?n.idlist:null,i.idDOM=n.idDOM.length?n.idDOM:null,i.blockstrings=n.blockstrings,i.block=n.blockobject.tag,i.events=n.blockobject.events,i.blockmain={classlist:n.blockobject.classlist,idlist:n.blockobject.idlist,idDOM:n.blockobject.idDOM,tagstrings:n.blockobject.tagstrings,child:n.blockobject.tagchild},i.blockchild=n.blockchild?l.$.map(n.blockchild,function(e){return{tag:e.tag,events:e.events,classlist:e.classlist,idlist:e.idlist,idDOM:e.idDOM,tagstrings:e.tagstrings,child:e.tagchild}}):null,i.blockallchild=n.blockchild&&n.blockchild.length?(t=[],e=n.blockchild,l.$.map(e,function(e){t.push({tag:e.tag,tagstring:e.tagstrings.tagstring}),!e.tagchild||e.tagchild.length&&l.$.map(e.tagchild,function(e){t.push({tag:e.element,tagstring:e.tagstring})})}),t):null,i.getBlock=function(){return i.block},i.setBlock=function(e){"settedInDOM"in i.block||i.block.hasOwnProperty("settedInDOM")||l.asset.idinDOM(i.idlist,null)||(l.$.elementInsertChild(e||a,i.block),i.block.settedInDOM=1)},i.delBlock=function(){"settedInDOM"in i.block&&i.block.hasOwnProperty("settedInDOM")&&l.$.isElement(i.block.parentElement)&&(delete i.block.settedInDOM,i.block.parentElement.removeChild(i.block))},r=function(e,t){return l.$.isString(e,t)&&e.length?l.asset.getElementByIDroc(e,t):!isNaN(e)&&e<t.length&&0<=e?t[parseInt(e,10)]:null},i.textContent=function(e,n){!l.$.isString(e)&&"number"!=typeof e||function(e,t){if(!t&&!n||t&&!n)i.block.textContent=e;else{if(!t||!n)throw new l.e.e(l.asset.UERROR,"Alert! Block do not have children.","warn");if(!(n=l.$.isString(n)?r(n,l.$.map(i.blockallchild,function(e){return e.tag})):r(n,l.$.map(i.blockchild,function(e){return e.tag}))))throw new l.e.e(l.asset.UERROR,"Stop! Do not exist element: "+String(n),"warn");n.textContent=e}}(l.$.sanitizeString(l.asset.unicodeText(String(e))),i.blockchild)},i.innerHTML=function(e,n){!l.$.isString(e)&&"number"!=typeof e||function(e,t){if(!t&&!n||t&&!n)i.block.innerHTML=e;else{if(!t||!n)throw new l.e.e(l.asset.UERROR,"Alert! Block do not have children.","warn");if(!(n=l.$.isString(n)?r(n,l.$.map(i.blockallchild,function(e){return e.tag})):r(n,l.$.map(i.blockchild,function(e){return e.tag}))))throw new l.e.e(l.asset.UERROR,"Stop! Do not exist element: "+String(n),"warn");n.innerHTML=e}}(l.$.sanitizeString(l.asset.unicodeText(String(e))),i.blockchild)},i.blockstringChild=i.blockchild?function(t){return"number"==typeof t&&t<i.blockchild.length&&0<=t?i.blockchild[parseInt(t,10)].tagstring:l.$.isString(t)?i.blockchild.length?(e=i.blockallchild,n=[],(n=l.$.filter(e,function(e){return e.tag.id===t})).length?n.tagstring:void 0):void 0:i.blockchild.length?l.$.map(i.blockchild,function(e){return e.tagstring}):void 0;var e,n}:function(){return null},i.getChild=i.blockchild?function(t){return"number"==typeof t&&t<i.blockchild.length&&0<=t?i.blockchild[parseInt(t,10)].tag:l.$.isString(t)?i.blockchild.length?(e=i.blockallchild,n=[],(n=l.$.emptyString(t)?void 0:l.$.filter(e,function(e){return e.tag.id===t})).length?n[0].tag:void 0):void 0:i.blockchild.length?l.$.map(i.blockchild,function(e){return e.tag}):void 0;var e,n}:function(){return null},i}catch(e){return l.e.eD(e),null}var t,e}(null,{}):function(){try{throw new l.e.e(l.asset.UERROR,l.asset.MERROR)}catch(e){return l.e.eD(e),null}}()},i.prototype={createBlock:function(e,t,n,r,i){return function(e,t,n,r,i){return s(o(l.core(e,t,n,r,i),i))}(e,t,n,r,i)}},l.asset.checkTs(e)?s(o(l.core(e,t,n,r,a))):new i};var l,s,o,i,c},_api:function(){return{api:this.api()}}},_Spa={e:Object.create(_Error),$:Object.create(r.api()),a:Object.create(_Asset.api()),ajax:Object.create(_Ajax.api()),core:function(){return s=/^([.\w\-\/]+)\w+\.html$/,c="route",u="template",g="controller",(e=function(){}).prototype={_container:null,_routes:{},_controllers:{},_currentController:{},_currentRoute:{},_defaultRoute:l="/",_routed:!(m="callback"),_xhr:(o=this).ajax,_preloader:null,_e:0,_eSpa:function(e,t){try{if(e)throw new o.e.e(t[0],t[1],t[2]);return 1}catch(e){o.e.eD(e),"warn"!==e.type&&(this._e=1)}},_getRouteParams:function(e,t){return e=o.$.filter(e,function(e){return e}),t[c]=e[0]||this._defaultRoute,t[g]=this._controllers[e[0]?e.shift():this._defaultRoute],t.param={route:t[c],class:e[0]?e.shift():null,method:e[1]?e.shift():null,params:0<e.length?e:null},t},_getController:function(){return this._routed?this._currentController:this._eSpa(1,[o.a.UERROR,"SPA: Error! use setRoute method first."])},_setController:function(e,t){if(!this._routed)return this._eSpa(0,[o.a.UERROR,"SPA: Error! use setRoute method first."]);if(e in this._controllers&&this._controllers.hasOwnProperty(e)){if("function"!=typeof t&&o.$.isEmptyObject(t))return this._eSpa(1,[o.a.UERROR,'SPA: Wainting for an object or function controller, not: "'+typeof t+'"']);this._controllers[e]=t}else this._eSpa(1,["Warning",'SPA: Becareful! "'+(o.$.isString(e)?e:typeof e)+"\" controller doesn't exists in your routes.","warn"]);return!0},_setControllers:function(n){return this._routed?o.$.isEmptyObject(n)?this._eSpa(1,[o.a.UERROR,"SPA: Waiting object, not: "+typeof n+"."]):function(e,t){for(t in n)if(t in e._controllers&&e._controllers.hasOwnProperty(t)){if("function"!=typeof n[t]&&o.$.isEmptyObject(n[t]))return e._eSpa(1,[o.a.UERROR,'SPA: Filled object or function controller please, not: "'+typeof n[t]+'"']);e._controllers[t]=n[t]}else e._eSpa(1,["Warning",'SPA: Becareful! "'+t+"\" controller doesn't exists in your routes.","warn"]);return e}(this,null):this._eSpa(1,[o.a.UERROR,"SPA: Error! use setRoute method first."])},_changeContainer:function(e){return this._routed?o.$.elementEval(e)?this._container=o.$.elementEval(e):this._eSpa(1,[o.a.UERROR,"SPA::setContainer: Error! invalid container element: "+typeof e]):this._eSpa(1,[o.a.UERROR,"SPA: Error! use setRoute method first."])},_ajaxViewer:function(e,t){return n=this,r=null,i=s.test(e),a=/^\[TOBKND\]\:/.test(e),r=function(e){n._container.innerHTML=e},i||a?a?n._xhr.load({data:{method:"POST",source:e.replace(/^\[TOBKND\]\:/,""),datatype:"text",data:"params="+JSON.stringify(t)},onready:r,onpreload:n._preloader}):n._xhr.load({data:{method:"GET",source:e},onready:r,onpreload:n._preloader}):r(e),i||a;var n,r,i,a},_localViewer:function(e){o.$.isElement(e)&&(this._container.innerHTML=null,this._container.appendChild(e))},_routerController:function(e){return n=this,t=w.location.hash,r=!1,o.$.emptyString(t)||/\#\/.*$/.test(t)?o.$.emptyString(t)||/^\#\/(([\w]+\-*\/?)+\w+$)?/g.test(t)?(i=t.substring(1)||n._defaultRoute,a=null,l="#"+n._defaultRoute||"#/",a=function(e,t){o.$.isString(e)?r=n._ajaxViewer(e,t):n._localViewer(e)},i=i?n._getRouteParams(i.split("/"),{}):n._getRouteParams(n._defaultRoute.split("/"),{}),n._currentRoute=n._routes[i[c]],void(n._currentRoute&&n._currentRoute[u]&&!/^404(-url)?$/i.test(i[c])?(a(n._currentRoute[u],i.param),n._currentController={},n._currentController[n._currentRoute[g]||g]=n._controllers[n._currentRoute[g]],n._currentController.param=i.param,n._currentRoute&&n._currentRoute[m]&&(r?setTimeout(n._currentRoute[m],500):n._currentRoute[m]())):n._currentRoute&&n._currentRoute[u]&&/^404(-url)?$/i.test(i[c])?w.location.hash=l:n._routes[404]&&n._routes[404][u]?a(n._routes[404][u],i.param):(s=n._routes["404-url"]&&n._routes["404-url"][u],w.location[s?"href":"hash"]=s?n._routes["404-url"][u]:l))):null:void(/\#.*$/.test(t)&&"load"===e&&(w.location.href=w.location.href.replace(/\#.*$/,"")));var n,t,r,i,a,l,s},_router:function(){return this._e?null:((e=this)._routed=!0,w.addEventListener("load",function(){e._routerController("load")},!1),w.addEventListener("hashchange",function(){e._routerController()},!1),e);var e},_setRoute:function(r,e,i){return this._container=o.$.elementEval(e)||d.body,this._container=o.a.trimtag(this._container.tagName).alonetag?d.body:this._container,a=this,t=Object.keys(r),o.$.map(t,function(e){/^([\w]+\-*\/?)+\w+$|^\/{1}$/g.test(e)||a._eSpa(1,[o.a.UERROR,"SPA: Error! Wrong routes."])}),a._e||function(e,t,n){for(e in r)if(r.hasOwnProperty(e))for(t in a._routes[e]={},r[e])t.toLowerCase()===u?a._routes[e][u]=r[e][t]?o.$.isString(r[e][t])?s.test(r[e][t])?l+r[e][t].replace(/^\/+/,""):r[e][t].length?r[e][t]:null:o.$.isElement(r[e][t])?r[e][t]:null:o.$.isString(r[e][t])&&r[e][t].length?r[e][t]:null:r[e].hasOwnProperty(u)||(a._routes[e][u]=a._routes[e]===l?"/index.html":l+e+".html"),t.toLowerCase()===g?a._routes[e][g]=r[e][t]&&o.$.isString(r[e][t])&&/^[\w\-]+$/.test(r[e][t])?r[e][t]:null:r[e].hasOwnProperty(g)||(a._routes[e][g]=a._routes[e]===l?"home":e),t.toLowerCase()===m?a._routes[e][m]=r[e][m]&&"function"==typeof r[e][m]?r[e][m]:null:r[e].hasOwnProperty(m)||(a._routes[e][m]=null);for(n in a._routes)a._routes.hasOwnProperty(n)&&(a._routes[n][u]||a._routes[n][g]||a._routes[n][m]?a._controllers[a._routes[n][g]]=null:delete a._routes[n]);a._defaultRoute=i&&o.$.isString(i)?a._routes.hasOwnProperty(i)?i:a._routes.hasOwnProperty(l)?l:a._eSpa(1,[o.a.UERROR,"SPA: Error! Default route do not exist in Routes object."]):a._routes.hasOwnProperty(l)?l:a._eSpa(1,[o.a.UERROR,"SPA: Error! Wrong Default route."]),a._defaultRoute||a._eSpa(1,[o.a.UERROR,"SPA: Error! Wrong routes, default route or root (/) is required."])}(null,null,null),a;var a,t}},new e;var o,e,l,s,c,u,g,m},api:function(){return(e=function(){}).prototype=(i=(r=this).core(),a=null,a={setRoute:function(e,t,n){return r.$.isEmptyObject(e)?i._eSpa(1,[r.a.UERROR,'SPA: Error, Rocjs needs an Array with at least one object element like [{"/": {"template":"some/template.html", [,"controller":controllerName, "callback": anyFunction]}]']):i._setRoute(e,t,n)._router()},setController:function(e,t){return i._setController(e,t)},setControllers:function(e){return r.$.isEmptyObject(e)?i._eSpa(0,[r.a.UERROR,"SPA: Error! Object container with controllers is required."]):i._setControllers(e)},setPreloader:function(e){i._preloader=e},changeContainer:function(e){return i._changeContainer(e)},playRoute:function(){return i._getController()}},(l={}).setRoutes=function(e,t,n){return function(e,t,n){return a.setRoute(e,t,n)?l:void 0}(e,t,n)},l.setController=function(e,t){return function(e,t){return a.setController(e,t)?l:void 0}(e,t)},l.setControllers=function(e){return function(e,t){return a.setControllers(e,t)?l:void 0}(e)},l.changeContainer=function(e){return function(e){return a.changeContainer(e)?l:void 0}(e)},l.playRoute=function(){return a.playRoute()},l.setPreloader=function(e){return function(e){return a.setPreloader(e),l}(e)},l),new e;var r,e,i,a,l},_api:function(){return{api:this.api()}}},_Comp={e:Object.create(_Error),$:Object.create(r.api()),asset:Object.create(_Asset.api()),block:Object.create(_Block._api()),core:function(e,t,n,r,i){return this.block.api(e,t,n,r,i)},api:function(){return a=this,s=function(){},o=l=null,function(e,t,n,r,i){return l=function(n,e){return i=e||i,n?((o=function(){this.classlist=n.classlist,this.idDOM=n.idDOM||null,this.idlist=n.idlist||null,this.component=n.block||null,this.events=n.events||null,this.compmain=n.blockmain,this.compchild=n.blockchild,this.compstrings=n.blockstrings}).prototype={delComponent:function(){return n.delBlock(),this},getComponent:function(){return n.getBlock()},render:function(e){return n.setBlock(e||i),this},getChild:function(e){return n.getChild(e)},compstringChild:function(e){return n.blockstringChild(e)},innerHTML:function(e,t){return n.innerHTML(e,t),this},textContent:function(e,t){return n.textContent(e,t),this}},new o):void 0},s.prototype={createComponent:function(e,t,n,r,i){return function(e,t,n,r,i){return l(a.core(e,t,n,r,i),i)}(e,t,n,r,i)}},a.asset.checkTs(e)?l(a.core(e,t,n,r,i)):new s};var a,l,s,o},_api:function(){return{api:(a=this).api(),prev:{},prevState:function(e){if(a.$.isEmptyObject(this.prev))for(i in e)e.hasOwnProperty(i)&&(this.prev[i]=e[i])},setState:function(r,e){"function"==typeof e&&function(e,t,n){try{if(!a.$.isEmptyObject(r)&&a.$.isEmptyObject(e.prev))for(n in r)r.hasOwnProperty(n)&&(e.prev[n]=r[n]);if(a.$.isEmptyObject(t))throw new a.e.e(a.asset.UERROR,a.asset.SERROR+typeof t);for(n in n=null,t)t.hasOwnProperty(n)&&(r[n]=t[n])}catch(e){a.e.eD(e)}}(this,e(r),0)},resetState:function(n){return a.$.isEmptyObject(this.prev)?void 0:function(e,t){for(t in e.prev)e.prev.hasOwnProperty(t)&&(n[t]=e.prev[t])}(this,0)}};var a}},_Rocjs={$:Object.create(r.api()),ajax:Object.create(_Ajax.api()),error:Object.create(_Error),tag:Object.create(_Tag._api()),block:Object.create(_Block._api()),spa:Object.create(_Spa._api()),mdown:Object.create(_MDwn.api),api:function(){return i=this,e=null,(e=function(e){this.version=version,this.props=e,this.r=i.$}).prototype={Error:function(e){return i.error.api(e)},SPA:function(){return i.spa.api},Ajax:function(){return i.ajax},Tag:function(e,t,n,r){return i.tag.api(e,t,n,r,this.props)},Block:function(e,t,n,r){return i.block.api(e,t,n,r,this.props)},Mdown:function(e,t){return i.mdown.run(e,t)}},e;var i,e}},_Compjs={$:Object.create(r.api()),error:Object.create(_Error),ajax:Object.create(_Ajax.api()),tag:Object.create(_Tag._api()),block:Object.create(_Block._api()),comp:Object.create(_Comp._api()),mdown:Object.create(_MDwn.api),api:function(){return i=this,e=null,(e=function(e){this.version=version,this.props=e||{},this.state={},this.r=i.$}).prototype={Error:function(e){return rocjs.error.api(e)},setState:function(e){return i.comp.setState(this.state,e),this},resetState:function(){return i.comp.resetState(this.state),this},Component:function(e,t,n,r){return i.comp.api(e,t,n,r,this.props)},Tag:function(e,t,n,r){return i.tag.api(e,t,n,r,this.props)},Block:function(e,t,n,r){return i.block.api(e,t,n,r,this.props)},Mdown:function(e,t){return i.mdown.run(e,t)}},e;var i,e}},ct=reg,dt=null,dt=ct.ns?{access:f,name:ct.name}:(w[ct.name]=_Rocjs.api(),w[ct.name].Component=_Compjs.api(),{access:t,name:ct.name}),_Rocforjsreg=void c(dt.access?dt.name+" ready!":u)}("1.0.0")}(null,void 0,null,!1,!0)}(document,window,console.log);